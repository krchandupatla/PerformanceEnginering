<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="633">
  <HTTPTask id="635" hostname="aa-pt6245.dev.accela.com:5443" path="/portlets/commons/genericTemplate/js/field.js" url="https://aa-pt6245.dev.accela.com:5443/portlets/commons/genericTemplate/js/field.js" ip="13.93.163.237" port="5443" client_ip="10.1.61.63" client_port="9074" connectionId="1988" origin="Primary" startDateTime="2017-08-28T11:27:44.344-07:00" startTime="25134" endTime="25143" sendTime="9" waitTime="0" receiveTime="1">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Referer" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9wcm9mZXNzaW9uYWwvcmVmL3JlZlByb2Zlc3Npb25hbExpc3QuZG8/dmFsdWUobW9kZSk9c2VhcmNoJm1vZHVsZT1CdWlsZGluZw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD00MGtvRFN6KzRwMmQtb1pxeklzZEtQKzA7IEpTRVNTSU9OSUQ9KioqKioqKioqKioqKioqKioqKioqKioqKioqOyBMQVNURVNUX1JFUVVFU1RfVElNRT0xNTAzOTQ0ODYxOTM1OyBob3N0U2lnbk9uPXRydWU7IGdfY3VycmVudF9sYW5ndWFnZV9leHQ9ZW5fVVM7IExBVEVTVF9XRUJfU0VSVkVSPTEwLjEuMC42OyBMQVRFU1RfU0VTU0lPTl9JRD00MGtvRFN6KzRwMmQtb1pxeklzZEtQKzA7IEFDQXV0aD01OTE0OTEyOTg2ODMwNjI5Nzk0NDY0NDQwMzgyMTU3NzkyMTI2MjUwNjc1ODQ1MzcyNTUxNDk2MjI0MzY1NTg1MDIwODAwMjcwNTUxNjQyMjQ2MTExMDI1MTI3NjAwODgxNTA5MzQwMTM4NzM2NTQzMzQ5MzA4OTgzNDE1MDYyMTsgQUNTaWduT25Nb2R1bGU9U1NPU3RhbmRhcmQ7IEFBUGVyc2lzdExvZ2luU2VydlByb3ZDb2RlPUZMQUdTVEFGRjsgTG9naW5TZXJ2UHJvdkNvZGU0TXVsdGlBZ2VuY3k9RkxBR1NUQUZGOyBMb2dpblVzZXJuYW1lNE11bHRpQWdlbmN5PTE3OUREMTNBMTg2MDI4RjQ7IEFDU2lnbm9mZj0iaHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9zZWN1cml0eS9zaWdub3V0LmRvIjsgQUNTd2l0Y2hBZ2VuY3k9Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvY29tbW9ucy9zc28vYmxhbmsuanNwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9wb3J0bGV0cy9jb21tb25zL2dlbmVyaWNUZW1wbGF0ZS9qcy9maWVsZC5qcyBIVFRQLzEuMQ0KUmVmZXJlcjogaHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9wcm9mZXNzaW9uYWwvcmVmL3JlZlByb2Zlc3Npb25hbExpc3QuZG8/dmFsdWUobW9kZSk9c2VhcmNoJm1vZHVsZT1CdWlsZGluZw0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNCkFjY2VwdDogKi8qDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpIb3N0OiBhYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0Mw0KQ29va2llOiBKU0VTU0lPTklEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgSlNFU1NJT05JRD0qKioqKioqKioqKioqKioqKioqKioqKioqKio7IExBU1RFU1RfUkVRVUVTVF9USU1FPTE1MDM5NDQ4NjE5MzU7IGhvc3RTaWduT249dHJ1ZTsgZ19jdXJyZW50X2xhbmd1YWdlX2V4dD1lbl9VUzsgTEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IExBVEVTVF9TRVNTSU9OX0lEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgQUNBdXRoPTU5MTQ5MTI5ODY4MzA2Mjk3OTQ0NjQ0NDAzODIxNTc3OTIxMjYyNTA2NzU4NDUzNzI1NTE0OTYyMjQzNjU1ODUwMjA4MDAyNzA1NTE2NDIyNDYxMTEwMjUxMjc2MDA4ODE1MDkzNDAxMzg3MzY1NDMzNDkzMDg5ODM0MTUwNjIxOyBBQ1NpZ25Pbk1vZHVsZT1TU09TdGFuZGFyZDsgQUFQZXJzaXN0TG9naW5TZXJ2UHJvdkNvZGU9RkxBR1NUQUZGOyBMb2dpblNlcnZQcm92Q29kZTRNdWx0aUFnZW5jeT1GTEFHU1RBRkY7IExvZ2luVXNlcm5hbWU0TXVsdGlBZ2VuY3k9MTc5REQxM0ExODYwMjhGNDsgQUNTaWdub2ZmPSJodHRwczovL2FhLXB0NjI0NS5kZXYuYWNjZWxhLmNvbTo1NDQzL3BvcnRsZXRzL3NlY3VyaXR5L3NpZ25vdXQuZG8iOyBBQ1N3aXRjaEFnZW5jeT0iaHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9jb21tb25zL3Nzby9ibGFuay5qc3AiDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDBrb0RTeis0cDJkLW9acXpJc2RLUCsw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="JSESSIONID" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>KioqKioqKioqKioqKioqKioqKioqKioqKioq</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LASTEST_REQUEST_TIME" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTUwMzk0NDg2MTkzNQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="hostSignOn" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dHJ1ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="g_current_language_ext" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW5fVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LATEST_WEB_SERVER" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMS4wLjY=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LATEST_SESSION_ID" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDBrb0RTeis0cDJkLW9acXpJc2RLUCsw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACAuth" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTkxNDkxMjk4NjgzMDYyOTc5NDQ2NDQ0MDM4MjE1Nzc5MjEyNjI1MDY3NTg0NTM3MjU1MTQ5NjIyNDM2NTU4NTAyMDgwMDI3MDU1MTY0MjI0NjExMTAyNTEyNzYwMDg4MTUwOTM0MDEzODczNjU0MzM0OTMwODk4MzQxNTA2MjE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSignOnModule" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>U1NPU3RhbmRhcmQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="AAPersistLoginServProvCode" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RkxBR1NUQUZG</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LoginServProvCode4MultiAgency" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RkxBR1NUQUZG</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LoginUsername4MultiAgency" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTc5REQxM0ExODYwMjhGNA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSignoff" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvc2VjdXJpdHkvc2lnbm91dC5kbyI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSwitchAgency" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvY29tbW9ucy9zc28vYmxhbmsuanNwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLUNveW90ZS8xLjE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJpdmF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFTVEVTVF9SRVFVRVNUX1RJTUU9MTUwMzk0NDg2MTk1MDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IERvbWFpbj1kZXYuYWNjZWxhLmNvbTsgUGF0aD0vOyBTZWN1cmU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFURVNUX1NFU1NJT05fSUQ9NDBrb0RTeis0cDJkLW9acXpJc2RLUCswOyBEb21haW49ZGV2LmFjY2VsYS5jb207IFBhdGg9LzsgU2VjdXJl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMjgyNTItMTQ5ODc0NzEzNDAwMCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyOSBKdW4gMjAxNyAxNDozODo1NCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyOCBBdWcgMjAxNyAxODoyNzo0MSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEFwYWNoZS1Db3lvdGUvMS4xDQpDYWNoZS1Db250cm9sOiBwcml2YXRlDQpFeHBpcmVzOiBUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQw0KWC1YU1MtUHJvdGVjdGlvbjogMA0KU2V0LUNvb2tpZTogTEFTVEVTVF9SRVFVRVNUX1RJTUU9MTUwMzk0NDg2MTk1MDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ0KU2V0LUNvb2tpZTogTEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IERvbWFpbj1kZXYuYWNjZWxhLmNvbTsgUGF0aD0vOyBTZWN1cmUNClNldC1Db29raWU6IExBVEVTVF9TRVNTSU9OX0lEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6IFcvIjI4MjUyLTE0OTg3NDcxMzQwMDAiDQpMYXN0LU1vZGlmaWVkOiBUaHUsIDI5IEp1biAyMDE3IDE0OjM4OjU0IEdNVA0KQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQNClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNCkRhdGU6IE1vbiwgMjggQXVnIDIwMTcgMTg6Mjc6NDEgR01UDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Ly9BY2NlbGEgQXV0b21hdGlvbg0KLy9GaWxlOiBpbnB1dC5qcw0KLy9BY2NlbGEsIEluYy4NCi8vQ29weXJpZ2h0IChDKTogMjAxMC0yMDE0DQovLw0KLy9EZXNjcmlwdGlvbjogVGhpcyBqYXZhc2NyaXB0IGltcGxlbWVudCB0aGUgZHluYW1pYyBtZW51IGJhciBmdW5jdGlvbi4NCi8vDQovL05vdGVzOiAgICAgDQovLyRJZDogaW5wdXQuanMgMTI1ODc0IDIwMTAtMTAtMTMgMDc6MDg6MDdaIEFDSElFVk9ccmF5LnpoYW5nICQNCi8vDQovL1JldmlzaW9uIEhpc3Rvcnk6DQovLzIwMTAtMTAtMTMsIHJheSB6aGFuZywgIEluaXRpYWwgVmVyc2lvbi4NCnZhciBJbnB1dCA9IHsNCgl2YWxpZGF0ZSA6IGZ1bmN0aW9uKGN1cnJlbnRPYmosIGZpZWxkLCB2YWx1ZSkNCgl7DQoJCXZhciBpZCA9IGN1cnJlbnRPYmouaWQ7DQoJCXZhciB0bXBWYWx1ZSA9IGN1cnJlbnRPYmoudmFsdWU7DQoJCQ0KCQlpZiAoKGZpZWxkLnJlcXVpcmVGbGFnID09ICJZIiB8fCB2YWx1ZS5yZXF1aXJlZCA9PSAiWSIpICYmIEV4dC5pc0VtcHR5KHRtcFZhbHVlLCBmYWxzZSkgJiYgaXNOZWVkMlZhbGlkYXRlUmVxdWlyZWQgIT0gIk4iKQ0KCQl7DQoJCQlJbnB1dC5hbGVydE1zZyhpZCwgcmVxdWlyZWQpOw0KCQkJdmFsdWUudmFsdWUgPSAnJzsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlJbnB1dC5hbGVydE1zZyhpZCwgJycpOw0KCQlzY3JvbGxCYXJJc3N1ZS5hdXRvQWRqdXN0Rm9yRXJyb3JNc2dEaXNwbGF5KCk7DQoJCXJldHVybiB0cnVlOw0KCX0sDQoJDQoJLyoNCgkgKiBpZCA6IGVsZW1lbnQgaWQNCgkgKiBtc2cgOiBlcnJvciBtc2cNCgkgKiBzaG91bGRSZW5kZXJFcnJNc2cgOiBkZWZhdWx0IGlzIG51bGwsIHdoZW4gdmVyaWZ5IGFsbCBmaWVsZCwgb25seSBvdXB1dCBlcnJvciBtc2csIGRvbid0IA0KCSAqLw0KCWFsZXJ0TXNnIDogZnVuY3Rpb24oaWQsIG1zZywgc2hvdWxkUmVuZGVyRXJyTXNnKQ0KCXsNCgkJaWYoVGVtcGxhdGUudGVtcGxhdGVzKQ0KCQl7DQoJCQl2YXIgdWlVSUQgPSBUZW1wbGF0ZS5lbGVtZW50SURzLmdldChpZCk7DQoJCQl2YXIgdGVtcGxhdGUgPSBUZW1wbGF0ZS50ZW1wbGF0ZXMuZ2V0KHVpVUlEKTsNCgkJCWlmKHRlbXBsYXRlLm5vVmFsaWRhdGUpLy9zZWFyY2ggcGFnZSBvciBTcGVhciBmb3JtIExQIHRlbXBsYXRlLHRoZSBpbmZvcm1hdGlvbiBub3QgcHJpbnQNCgkJCXsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgkJdmFyIGVycm9Nc2dJZCA9IFRlbXBsYXRlSGVscGVyLmVycm9yTXNnSWQoaWQpOw0KCQl2YXIgbXNnRXJyb3JDb250YWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb01zZ0lkKTsNCgkJaWYgKCFtc2dFcnJvckNvbnRhaW4gJiYgbXNnICYmIG1zZyAhPSAnJykNCgkJew0KCQkJdmFyIHdlZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCgkJCWlmICghd2VkZ2V0KQ0KCQkJCXJldHVybjsNCgkJCXZhciB0ZCA9IHdlZGdldC5wYXJlbnROb2RlOw0KCQkJbXNnRXJyb3JDb250YWluID0gVGVtcGxhdGVIZWxwZXIuY3JlYXRlRXJyb3JQYW5lbChpZCk7DQoJCQl2YXIgYnIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpOw0KCQkJYnIuaWQgPSBpZCArICdfYnInOw0KCQkJdGQuYXBwZW5kQ2hpbGQoYnIpOw0KCQkJdGQuYXBwZW5kQ2hpbGQobXNnRXJyb3JDb250YWluKTsNCgkJfQ0KCQlpZiAobXNnRXJyb3JDb250YWluKQ0KCQkJbXNnRXJyb3JDb250YWluLmlubmVySFRNTCA9IG1zZzsNCgkJCQ0KCQlpZiAoIW1zZyB8fCBtc2cgPT0gJycpDQoJCXsNCgkJCXZhciB3ZWRnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQoJCQlpZiAoIXdlZGdldCB8fCAhbXNnRXJyb3JDb250YWluKQ0KCQkJCXJldHVybjsNCgkJCXZhciB0ZCA9IHdlZGdldC5wYXJlbnROb2RlOw0KCQkJdGQucmVtb3ZlQ2hpbGQobXNnRXJyb3JDb250YWluKTsNCgkJCXZhciBick5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArICdfYnInKTsNCgkJCWlmIChick5vZGUpDQoJCQkJdGQucmVtb3ZlQ2hpbGQoYnJOb2RlKTsNCgkJfQ0KCQlpZiAoIXNob3VsZFJlbmRlckVyck1zZykNCgkJew0KCQkJdmFyICBlcnJfbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycl9tc2cnKTsNCgkJCWVycl9tc2cuaW5uZXJIVE1MID0gJyc7DQoJCQlwcmVwYXJlVmlydHVhbEJ1ZmZlcigpOw0KCQl9DQoJCXNjcm9sbEJhcklzc3VlLmF1dG9BZGp1c3RGb3JFcnJvck1zZ0Rpc3BsYXkoKTsNCgl9LA0KCQ0KCXNldEZvY3VzIDogZnVuY3Rpb24oZmllbGQsIGlkKQ0KCXsNCgkJdHJ5DQoJCXsNCgkJCWlmIChmaWVsZC5maWVsZFR5cGVWYWx1ZSA9PSAnMycpLy9yYWRpbw0KCQkJew0KCQkJCXZhciB0bXBJZCA9IGlkICsgVGVtcGxhdGVIZWxwZXIuc2VwYXJhdGlvbisnWWVzJw0KCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0bXBJZCkgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRtcElkKS5kaXNhYmxlZCkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodG1wSWQpLmZvY3VzKCk7DQoJCQl9DQoJCQllbHNlIGlmIChmaWVsZC5maWVsZFR5cGVWYWx1ZSA9PSAnNycpLy9kYXRlIHRpbWUNCgkJCXsNCgkJCQl2YXIgdG1wSWQgPSBpZCArIFRlbXBsYXRlSGVscGVyLnNlcGFyYXRpb24rJ0hvdXInOw0KCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0bXBJZCkgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRtcElkKS5kaXNhYmxlZCkNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodG1wSWQpLmZvY3VzKCk7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmRpc2FibGVkKQ0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuZm9jdXMoKTsNCgkJCX0NCgkJfQ0KCQljYXRjaChlcnJvcikNCgkJew0KCQkJLy90aGlzIGVsZW1lbnQgbWF5YmUgaW52aXNhYmxlLg0KCQkJLy9kbyBub3RoaW5nLg0KCQl9DQoJfQ0KCQ0KfTsNCg0KSW5wdXQuYmFzZVRleHQgPSBmdW5jdGlvbigpew0KfTsNCg0KRXh0LmFwcGx5KElucHV0LmJhc2VUZXh0LnByb3RvdHlwZSwgew0KCSdibHVyJyA6IGZ1bmN0aW9uKCkNCgl7DQoJCXZhciBjdXJyZW50T2JqID0gYXJndW1lbnRzWzBdOw0KCQl2YXIgZmllbGQgPSBhcmd1bWVudHNbMV07DQoJCXZhciB2YWx1ZSA9IGFyZ3VtZW50c1syXTsNCgkJaWYgKElucHV0LnZhbGlkYXRlKGN1cnJlbnRPYmosIGZpZWxkLCB2YWx1ZSkpCQ0KCQl7DQoJCQl2YWx1ZS52YWx1ZSA9IGN1cnJlbnRPYmoudmFsdWU7DQoJCX0NCgl9LA0KCQ0KCSdjaGFuZ2UnIDogZnVuY3Rpb24oKSANCgl7DQoJCXZhciBjdXJyZW50T2JqID0gYXJndW1lbnRzWzBdOw0KCQl2YXIgdmFsdWUgPSBhcmd1bWVudHNbMl07DQoJCXZhbHVlLnZhbHVlID0gY3VycmVudE9iai52YWx1ZTsNCgl9DQoJDQp9KTsNCg0KLy9leHRlbmQgaW4gdGVtcGxhdGUgdGV4dA0KVGVtcGxhdGUudGV4dCA9IGZ1bmN0aW9uKCkNCnsNCgkNCn07DQoNCkV4dC5leHRlbmQoVGVtcGxhdGUudGV4dCwgSW5wdXQuYmFzZVRleHQpOw0KDQovL2V4dGVuZCBpbiB0ZW1wbGF0ZSB0ZXh0DQpUZW1wbGF0ZS50ZXh0QXJlYSA9IGZ1bmN0aW9uKCkNCnsNCn07DQoNCkV4dC5leHRlbmQoVGVtcGxhdGUudGV4dEFyZWEsIElucHV0LmJhc2VUZXh0LCB7DQoJDQp9KTsNCg0KLy9leHRlbmQgaW4gdGVtcGxhdGUgdGV4dA0KVGVtcGxhdGUubW9uZXlUZXh0ID0gZnVuY3Rpb24oKQ0Kew0KCQ0KfTsNCg0KRXh0LmV4dGVuZChUZW1wbGF0ZS5tb25leVRleHQsIElucHV0LmJhc2VUZXh0LCB7DQoJJ2tleWRvd24nIDogZnVuY3Rpb24oKQ0KCXsNCgkJaWYgKFZhbGlkYXRlLnZhbGlmeU51bWJlcigpKQ0KCQl7DQoJCQlldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KCQl9DQoJfSwNCgkNCgknYmx1cicgOiBmdW5jdGlvbigpDQoJew0KCQl2YXIgY3VycmVudE9iaiA9IGFyZ3VtZW50c1swXTsNCgkJdmFyIGZpZWxkID0gYXJndW1lbnRzWzFdOw0KCQl2YXIgdmFsdWUgPSBhcmd1bWVudHNbMl07DQoJCXZhciBpZCA9IGN1cnJlbnRPYmouaWQ7DQoJCWlmIChJbnB1dC52YWxpZGF0ZShjdXJyZW50T2JqLCBmaWVsZCwgdmFsdWUpKQ0KCQl7DQoJCQlpZiAoIUV4dC5pc0VtcHR5KGN1cnJlbnRPYmoudmFsdWUpICYmICFWYWxpZGF0ZS5pc01vbmV5KGN1cnJlbnRPYmoudmFsdWUpKQ0KCQkJew0KCQkJCUlucHV0LmFsZXJ0TXNnKGlkLCBjdXJyZW5jeU1zZyk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUlucHV0LmFsZXJ0TXNnKGlkLCAnJyk7DQoJCQl9DQoJCQl2YWx1ZS52YWx1ZSA9IGN1cnJlbnRPYmoudmFsdWU7DQoJCQlyZXR1cm4gdHJ1ZTsJCQ0KCQl9DQoJCXJldHVybiBmYWxzZTsNCgl9DQoJDQp9KTsNCg0KLy9leHRlbmQgaW4gdGVtcGxhdGUgdGV4dA0KVGVtcGxhdGUudGltZVRleHQgPSBmdW5jdGlvbigpDQp7DQoNCn07DQoNCkV4dC5leHRlbmQoVGVtcGxhdGUudGltZVRleHQsIElucHV0LmJhc2VUZXh0LCANCgl7DQoJCSdrZXlkb3duJyA6IGZ1bmN0aW9uKCkgew0KCQkJaWYgKFZhbGlkYXRlLnZhbGlmeVRpbWUoKSkNCgkJCXsNCgkJCQlldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTsNCgkJCX0NCgkJfQ0KfSk7DQoNCi8vZXh0ZW5kIGluIHRlbXBsYXRlIHRleHQNClRlbXBsYXRlLmRhdGVUZXh0ID0gZnVuY3Rpb24oKQ0Kew0KDQp9Ow0KRXh0LmV4dGVuZChUZW1wbGF0ZS5kYXRlVGV4dCwgSW5wdXQuYmFzZVRleHQsIA0Kew0KCSdjaGFuZ2UnIDogZnVuY3Rpb24oKQ0KCXsNCgkJdmFyIGN1cnJlbnRPYmogPSBhcmd1bWVudHNbMF07DQoJCXZhciBmaWVsZCA9IGFyZ3VtZW50c1sxXTsNCgkJdmFyIHZhbHVlID0gYXJndW1lbnRzWzJdOw0KCQl2YXIgaWQgPSBjdXJyZW50T2JqLmlkOw0KCQlpZiAoSW5wdXQudmFsaWRhdGUoY3VycmVudE9iaiwgZmllbGQsIHZhbHVlKSkNCgkJew0KCQkJDQoJCQlpZiAoIUV4dC5pc0VtcHR5KGN1cnJlbnRPYmoudmFsdWUpICYmICFWYWxpZGF0ZS5pc0RhdGUoY3VycmVudE9iai52YWx1ZSkpDQoJCQl7DQoJCQkJY2hlY2tEYXRlKGN1cnJlbnRPYmosIDEsIG1pbGxpc2Vjb25kKTsNCgkJCX0NCgkJCQ0KCQkJdmFsdWUudmFsdWUgPSBjdXJyZW50T2JqLnZhbHVlOw0KCQkJSW5wdXQuYWxlcnRNc2coaWQsICcnKTsNCgkJCXJldHVybiB0cnVlOwkJDQoJCX0NCgkJcmV0dXJuIGZhbHNlOw0KCX0NCn0pOw0KCQ0KLy9leHRlbmQgaW4gdGVtcGxhdGUgdGV4dA0KVGVtcGxhdGUubnVtYmVyVGV4dCA9IGZ1bmN0aW9uKCkNCnsNCg0KfTsNCg0KRXh0LmV4dGVuZChUZW1wbGF0ZS5udW1iZXJUZXh0LCBJbnB1dC5iYXNlVGV4dCwgDQoJew0KCSAna2V5ZG93bicgOiBmdW5jdGlvbigpIHsNCgkJaWYgKFZhbGlkYXRlLnZhbGlmeU51bWJlcigpKQ0KCQl7DQoJCQlldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KCQl9DQoJfSwNCgkNCgknYmx1cicgOiBmdW5jdGlvbigpDQoJew0KCQl2YXIgY3VycmVudE9iaiA9IGFyZ3VtZW50c1swXTsNCgkJdmFyIGZpZWxkID0gYXJndW1lbnRzWzFdOw0KCQl2YXIgdmFsdWUgPSBhcmd1bWVudHNbMl07DQoJCXZhciBpZCA9IGN1cnJlbnRPYmouaWQ7DQoNCgkJaWYgKElucHV0LnZhbGlkYXRlKGN1cnJlbnRPYmosIGZpZWxkLCB2YWx1ZSkpDQoJCXsNCgkJCWlmICghRXh0LmlzRW1wdHkoY3VycmVudE9iai52YWx1ZSkgJiYgIVZhbGlkYXRlLmlzTnVtYmVyKGN1cnJlbnRPYmoudmFsdWUpKQ0KCQkJew0KCQkJCUlucHV0LmFsZXJ0TXNnKGlkLCBudW1iZXJNc2cpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCXZhbHVlLnZhbHVlID0gY3VycmVudE9iai52YWx1ZTsJCQ0KCQkJcmV0dXJuIHRydWU7DQoJCX0NCgkJcmV0dXJuIGZhbHNlOw0KCX0NCn0pOw0KCQ0KSW5wdXQuYmFzZVNlbGVjdCA9IGZ1bmN0aW9uKCkgew0KfTsNCg0KLy9leHRlbmQgaW4gdGVtcGxhdGUgc2VsZWN0DQpUZW1wbGF0ZS5zZWxlY3QgPSBmdW5jdGlvbigpDQp7DQp9Ow0KRXh0LmV4dGVuZChUZW1wbGF0ZS5zZWxlY3QsIElucHV0LmJhc2VTZWxlY3QsIA0Kew0KCSdibHVyJyA6IGZ1bmN0aW9uKCkgew0KCQl2YXIgY3VycmVudE9iaiA9IGFyZ3VtZW50c1swXTsNCgkJdmFyIGZpZWxkID0gYXJndW1lbnRzWzFdOw0KCQl2YXIgdmFsdWUgPSBhcmd1bWVudHNbMl07DQoJCWlmIChJbnB1dC52YWxpZGF0ZShjdXJyZW50T2JqLCBmaWVsZCwgdmFsdWUpKQ0KCQl7DQoJCQl2YWx1ZS52YWx1ZSA9IGN1cnJlbnRPYmoudmFsdWU7DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KCQlyZXR1cm4gZmFsc2U7DQoJfSwNCgknY2hhbmdlJyA6IGZ1bmN0aW9uKCkgDQoJew0KCQl2YXIgY3VycmVudE9iaiA9IGFyZ3VtZW50c1swXTsNCgkJdmFyIHZhbHVlID0gYXJndW1lbnRzWzJdOw0KCQl2YWx1ZS52YWx1ZSA9IGN1cnJlbnRPYmoudmFsdWU7DQoJfSwNCgknZm9jdXMnIDogZnVuY3Rpb24oKQ0KCXsNCgkJdGhpcy5sb2FkT3B0aW9ucyhhcmd1bWVudHMpOw0KCX0sDQoJDQoJJ21vdXNlb3ZlcicgOmZ1bmN0aW9uKCkNCgl7DQoJCXRoaXMubG9hZE9wdGlvbnMoYXJndW1lbnRzKTsNCgl9LA0KCQ0KCWxvYWRPcHRpb25zIDogZnVuY3Rpb24oYXJzKQ0KCXsNCgkJdmFyIGN1cnJlbnRPYmogPSBhcnNbMF07DQoJCXZhciBmaWVsZCA9IGFyc1sxXTsNCgkJdmFyIHZhbHVlID0gYXJzWzJdOw0KCQl2YXIgdGQgPSBjdXJyZW50T2JqLnBhcmVudE5vZGU7DQoJCUZpZWxkLmNvbnN0cnVjdE9wdGlvbihGaWVsZCwgZmllbGQsIGN1cnJlbnRPYmosIHRkLCB2YWx1ZSk7DQoJCXNjcm9sbEJhcklzc3VlLmF1dG9BZGp1c3RGb3JUYWJsZUFkZE9yUmVtb3ZlUm93cygpOw0KCX0NCn0pOw0KDQoNCg0KSW5wdXQuYmFzZUNoZWNrYm94ID0gZnVuY3Rpb24oKSB7DQoNCn07DQoNCi8vZXh0ZW5kIGluIHRlbXBsYXRlIHNlbGVjdA0KVGVtcGxhdGUuY2hlY2tib3ggPSBmdW5jdGlvbigpDQp7DQoJDQp9Ow0KDQpFeHQuZXh0ZW5kKFRlbXBsYXRlLmNoZWNrYm94LCBJbnB1dC5iYXNlQ2hlY2tib3gsIA0Kew0KCSdjbGljaycgOiBmdW5jdGlvbigpIHsNCgkJdmFyIGN1cnJlbnRPYmogPSBhcmd1bWVudHNbMF07DQoJCXZhciBmaWVsZCA9IGFyZ3VtZW50c1sxXTsNCgkJdmFyIHZhbHVlID0gYXJndW1lbnRzWzJdOw0KCQl2YXIgaWQgPSBjdXJyZW50T2JqLmlkOw0KCQlpZiAoY3VycmVudE9iai5jaGVja2VkKQ0KCQl7DQoJCQl2YWx1ZS52YWx1ZSA9ICdDSEVDS0VEJzsNCgkJCUlucHV0LmFsZXJ0TXNnKGlkLCAnJykNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCXZhbHVlLnZhbHVlID0gJ1VOQ0hFQ0tFRCc7DQoJCQlpZiAoZmllbGQucmVxdWlyZUZsYWcgPT0gIlkifHx2YWx1ZS5yZXF1aXJlZCA9PSAiWSIpDQoJCQl7DQoJCQkJSW5wdXQuYWxlcnRNc2coaWQsIHJlcXVpcmVkKQ0KCQkJfQ0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJfQ0KfSk7DQoNCklucHV0LmJhc2VSYWRpbyA9IGZ1bmN0aW9uKCkgew0KDQp9Ow0KDQovL2V4dGVuZCBpbiB0ZW1wbGF0ZSBzZWxlY3QNClRlbXBsYXRlLnJhZGlvID0gZnVuY3Rpb24oKQ0Kew0KCQ0KfTsNCg0KRXh0LmV4dGVuZChUZW1wbGF0ZS5yYWRpbywgSW5wdXQuYmFzZVJhZGlvLCANCgl7DQoJCSdjbGljaycgOiBmdW5jdGlvbigpIHsNCgkJCXZhciBjdXJyZW50T2JqID0gYXJndW1lbnRzWzBdOw0KCQkJdmFyIHZhbHVlID0gYXJndW1lbnRzWzJdOw0KCQkJdmFyIGlkID0gdmFsdWUuaWQ7DQoJCQl2YXIgaGlkZGVuT2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KCQkJdmFsdWUudmFsdWUgPSBjdXJyZW50T2JqLnZhbHVlOw0KCQkJSW5wdXQuYWxlcnRNc2coaWQsICcnKQ0KfX0pOw0KDQpGaWVsZCA9IHsNCg0KCWdldFJhZGlvSWQgOiBmdW5jdGlvbihpZCkvL3JhZGlvIGxhYmVsIGlkDQoJew0KCQlyZXR1cm4gW2lkICsgVGVtcGxhdGVIZWxwZXIuc2VwYXJhdGlvbisnWWVzJywgaWQgKyBUZW1wbGF0ZUhlbHBlci5zZXBhcmF0aW9uKydObyddOw0KCX0sIA0KDQoJZ2V0RGF0ZVRpbWVJZCA6IGZ1bmN0aW9uKGlkKS8vZGF0ZXRpbWUgZHJvcCBkb3duIGlkKG9uZSBpcyBob3VyLCBvdGhlciBpcyBtaW51dGVyKQ0KCXsNCgkJcmV0dXJuIFtpZCArIFRlbXBsYXRlSGVscGVyLnNlcGFyYXRpb24rJ0hvdXInLCBpZCArIFRlbXBsYXRlSGVscGVyLnNlcGFyYXRpb24rJ01pbnV0ZXInXTsNCgl9LCANCgkNCgljbG9uZVRleHQgOiBmdW5jdGlvbigpDQoJew0KCQlpZiAoRmllbGQudGV4dCkNCgkJew0KCQkJcmV0dXJuIEZpZWxkLnRleHQuY2xvbmVOb2RlKHRydWUpOw0KCQl9DQoJCXZhciBvcmlnaW5hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CQkNCgkJb3JpZ2luYWwudHlwZSA9ICd0ZXh0JzsNCgkJb3JpZ2luYWwuY2xhc3NOYW1lID0gJ3BvcnRsZXQtbXNnLWluZm8nOw0KCQlGaWVsZC50ZXh0ID0gb3JpZ2luYWw7DQoJCXJldHVybiBvcmlnaW5hbC5jbG9uZU5vZGUodHJ1ZSk7DQoJfSwNCg0KCWNsb25lUmFkaW8gOiBmdW5jdGlvbigpDQoJew0KCQlpZiAoRmllbGQucmFkaW8pDQoJCXsNCgkJCXJldHVybiBGaWVsZC5yYWRpby5jbG9uZU5vZGUodHJ1ZSk7DQoJCX0JCQ0KCQl2YXIgb3JpZ2luYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwkJDQoJCW9yaWdpbmFsLnR5cGUgPSAncmFkaW8nOw0KCQlGaWVsZC5yYWRpbyA9IG9yaWdpbmFsOw0KCQlyZXR1cm4gb3JpZ2luYWwuY2xvbmVOb2RlKHRydWUpOw0KCX0sDQoNCgljbG9uZVNlbGVjdCA6IGZ1bmN0aW9uKCkNCgl7DQoJCWlmIChGaWVsZC5zZWxlY3QpDQoJCXsNCgkJCXJldHVybiBGaWVsZC5zZWxlY3QuY2xvbmVOb2RlKHRydWUpOw0KCQl9CQkNCgkJdmFyIG9yaWdpbmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CQkNCgkJb3JpZ2luYWwuY2xhc3NOYW1lID0gJ3BvcnRsZXQtZm9ybS1maWVsZCc7DQoJCUZpZWxkLnNlbGVjdCA9IG9yaWdpbmFsOw0KCQlyZXR1cm4gb3JpZ2luYWwuY2xvbmVOb2RlKHRydWUpOw0KCX0sDQoNCgljbG9uZVRleHRhcmVhIDogZnVuY3Rpb24oKQ0KCXsNCgkJaWYgKEZpZWxkLnRleHRhcmVhKQ0KCQl7DQoJCQlyZXR1cm4gRmllbGQudGV4dGFyZWEuY2xvbmVOb2RlKHRydWUpOw0KCQl9DQoJCXZhciBvcmlnaW5hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7CQkNCgkJLy9vcmlnaW5hbC5jbGFzc05hbWUgPSAndGV4dEFyZWFGaWVsZCc7DQoJCUZpZWxkLnRleHRhcmVhID0gb3JpZ2luYWw7DQoJCXJldHVybiBvcmlnaW5hbC5jbG9uZU5vZGUodHJ1ZSk7DQoJfSwNCg0KCWNsb25lQ2hlY2tib3ggOiBmdW5jdGlvbigpDQoJew0KCQlpZiAoRmllbGQuY2hlY2tib3gpDQoJCXsNCgkJCXJldHVybiBGaWVsZC5jaGVja2JveC5jbG9uZU5vZGUodHJ1ZSk7DQoJCX0NCgkJdmFyIG9yaWdpbmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCgkJb3JpZ2luYWwudHlwZSA9ICdjaGVja2JveCc7DQoJCUZpZWxkLmNoZWNrYm94ID0gb3JpZ2luYWw7DQoJCXJldHVybiBvcmlnaW5hbC5jbG9uZU5vZGUodHJ1ZSk7DQoJfSwNCg0KCWNsb25lT3B0aW9uIDogZnVuY3Rpb24oKQ0KCXsNCgkJaWYgKEZpZWxkLk9wdGlvbikNCgkJew0KCQkJcmV0dXJuIEZpZWxkLk9wdGlvbi5jbG9uZU5vZGUodHJ1ZSk7DQoJCX0NCgkJdmFyIG9yaWdpbmFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnT1BUSU9OJyk7DQoJCUZpZWxkLk9wdGlvbiA9IG9yaWdpbmFsOw0KCQlyZXR1cm4gb3JpZ2luYWwuY2xvbmVOb2RlKHRydWUpOw0KCX0sDQoJDQoJY2xvbmVMYWJlbCA6IGZ1bmN0aW9uKCkNCgl7DQoJCWlmIChGaWVsZC5sYWJlbCkNCgkJew0KCQkJcmV0dXJuIEZpZWxkLmxhYmVsLmNsb25lTm9kZSh0cnVlKTsNCgkJfQ0KCQl2YXIgb3JpZ2luYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOw0KCQlGaWVsZC5sYWJlbCA9IG9yaWdpbmFsOw0KCQlyZXR1cm4gb3JpZ2luYWwuY2xvbmVOb2RlKHRydWUpOw0KCX0sDQoJDQoJY2xvbmVTcGFuIDogZnVuY3Rpb24oKQ0KCXsNCgkJaWYgKEZpZWxkLnNwYW4pDQoJCXsNCgkJCXJldHVybiBGaWVsZC5zcGFuLmNsb25lTm9kZShmYWxzZSk7DQoJCX0NCgkJdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQoJCUZpZWxkLnNwYW4gPSBzcGFuOw0KCQlyZXR1cm4gc3Bhbi5jbG9uZU5vZGUoZmFsc2UpOw0KCX0sDQoJDQoJY3JlYXRlRmllbGQgOiBmdW5jdGlvbihmaWVsZCwgdGQsIHZhbHVlLCBpZCwgdGVtcGxhdGVJc1JlYWRPbmx5LCB0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJewkNCgkJaWYgKCFmaWVsZCkNCgkJew0KCQkJcmV0dXJuOw0KCQl9DQoJCXZhciBmaWVsZFR5cGUgPSBmaWVsZC5maWVsZFR5cGVWYWx1ZTsNCgkJaWYgKCFmaWVsZFR5cGUpDQoJCXsNCgkJCXJldHVybjsNCgkJfQ0KCQl2YXIgZGVmYXVsdFZhbHVlID0gIXZhbHVlLnZhbHVlID8gJycgOiB2YWx1ZS52YWx1ZTsNCgkJDQoJCWlmICh0ZW1wbGF0ZUlzUmVhZE9ubHkpDQoJCXsNCgkJCUZpZWxkLmNyZWF0ZUZpZWxkUmVhZE9ubHkoZmllbGQsIHRkLCBkZWZhdWx0VmFsdWUpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCQkJDQoNCgkJdmFyIGVsZW1lbnQ7DQoJCXN3aXRjaChmaWVsZFR5cGUpDQoJCXsNCgkJCWNhc2UgMToNCgkJCQllbGVtZW50ID0gRmllbGQuY3JlYXRlVGV4dDAoZmllbGQsIGlkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgMjoNCgkJCQllbGVtZW50ID0gRmllbGQuY3JlYXRlRGF0ZShmaWVsZCwgaWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSAzOg0KCQkJCWVsZW1lbnQgPSBGaWVsZC5jcmVhdGVSYWRpbyhmaWVsZCwgaWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSA0Og0KCQkJCWVsZW1lbnQgPSBGaWVsZC5jcmVhdGVOdW1iZXIoZmllbGQsIGlkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgNToNCgkJCQllbGVtZW50ID0gRmllbGQuY3JlYXRlRHJvcGRvd24oZmllbGQsIGlkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgNjoNCgkJCQllbGVtZW50ID0gRmllbGQuY3JlYXRlVGV4dGFyZWEoZmllbGQsIGlkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgNzoNCgkJCQllbGVtZW50ID0gRmllbGQuY3JlYXRlVGltZShmaWVsZCwgaWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSA4Og0KCQkJCWVsZW1lbnQgPSBGaWVsZC5jcmVhdGVNb25leShmaWVsZCwgaWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSA5Og0KCQkJCWVsZW1lbnQgPSBGaWVsZC5jcmVhdGVDaGVjYm94KGZpZWxkLCBpZCwgdGQsIHZhbHVlLCBkZWZhdWx0VmFsdWUsIHRlbXBsYXRlSXNEaXNhYmxlZCk7DQoJCQkJYnJlYWs7DQoJCQlkZWZhdWx0Og0KCQkJCWVsZW1lbnQgPSBGaWVsZC5jcmVhdGVUZXh0MChmaWVsZCwgaWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpOw0KCQl9Ow0KCQlyZXR1cm4gZWxlbWVudDsNCgkvLwlpZiAoZmllbGRUeXBlICE9IDYpDQoJCS8vCVRlbXBsYXRlLmNyZWF0ZUVycm9yUGFuZWwodGQsIGlkKTsNCgl9LA0KCQ0KCWNyZWF0ZUZpZWxkUmVhZE9ubHkgOiBmdW5jdGlvbiAoZmllbGQsIHRkLCBkZWZhdWx0VmFsdWUpDQoJew0KCQl2YXIgZmllbGRUeXBlID0gZmllbGQuZmllbGRUeXBlVmFsdWU7DQoJCWlmICghZmllbGRUeXBlKQ0KCQl7DQoJCQlyZXR1cm47DQoJCX0NCgkJdmFyIHRtcERlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTsNCgkJdmFyIHRyaW1GbGFnID0gdG1wRGVmYXVsdFZhbHVlID8gKCh0bXBEZWZhdWx0VmFsdWUudW5pY29kZUFuZFV0ZjhUcmltKCkgPT0gIiIpID8gZmFsc2UNCgkJCQk6IHRydWUpDQoJCQkJOiBmYWxzZTsNCgkJaWYgKGZpZWxkLmZpZWxkVHlwZUVudW0udG9VcHBlckNhc2UoKSA9PSAiREFURSIgJiYgdHJpbUZsYWcpIHsNCgkJCWRlZmF1bHRWYWx1ZSA9IHRyYW5zZm9ybUdsb2JhbERhdGVUb0xvY2FsKGRlZmF1bHRWYWx1ZSk7DQoJCQlpZih3aW5kb3cuY3VycmVudEZyb21QYWdlID09ICd0YWJTdW1tYXJ5JyAmJiB3aW5kb3cuY29udmVydFRvSXNsYW1pY0RhdGUgJiYgd2luZG93LnN5c3RlbUNhbGVuZGFyRGF0ZUZtdCkNCgkJCXsNCgkJCQlkZWZhdWx0VmFsdWUgPSB3aW5kb3cuY29udmVydFRvSXNsYW1pY0RhdGUoZGVmYXVsdFZhbHVlLHdpbmRvdy5zeXN0ZW1DYWxlbmRhckRhdGVGbXQsd2luZG93LnN5c3RlbUNhbGVuZGFyRGF0ZUZtdCk7DQoJCQl9DQoJCX0NCgkJdGQuaGVpZ2h0ID0gMTc7CQ0KCQlpZihkZWZhdWx0VmFsdWUpew0KCQkJdmFyIHZhbHVlSHRtbCA9IFtdOw0KCQkJdmFyIGxpbmsgPSBudWxsOw0KCQkJaWYoZmllbGQub3B0aW9ucyAmJiBmaWVsZC5vcHRpb25zLmxpbmspew0KCQkJCWxpbmsgPSBmaWVsZC5vcHRpb25zLmxpbms7DQoJCQkJdmFsdWVIdG1sLnB1c2goJzxhIGhyZWY9IicpOw0KCQkJCXZhbHVlSHRtbC5wdXNoKGxpbmspOw0KCQkJCXZhbHVlSHRtbC5wdXNoKCciJykNCgkJCQlpZihmaWVsZC5vcHRpb25zICYmIGZpZWxkLm9wdGlvbnMudGFyZ2V0KQ0KCQkJCXsNCgkJCQkJdmFsdWVIdG1sLnB1c2goJyB0YXJnZXQ9IicpOw0KCQkJCQl2YWx1ZUh0bWwucHVzaChmaWVsZC5vcHRpb25zLnRhcmdldCk7DQoJCQkJCXZhbHVlSHRtbC5wdXNoKCciJyk7DQoJCQkJfQ0KCQkJCXZhbHVlSHRtbC5wdXNoKCc+JykNCgkJCX0NCgkJCQ0KICAgICAgICAJdmFsdWVIdG1sLnB1c2goIjxwcmUgc3R5bGU9J2ZvbnQtZmFtaWx5OkFyaWFsLCBUYWhvbWEsIGhlbHZldGljYSwgYXJpYWw7Jz4iKTsNCiAgICAgICAgCXZhbHVlSHRtbC5wdXNoKGRlZmF1bHRWYWx1ZSk7DQogICAgICAgICAgICB2YWx1ZUh0bWwucHVzaCgiPC9wcmU+Iik7DQogICAgICAgICAgICANCgkJCWlmKGxpbmspew0KCQkJCXZhbHVlSHRtbC5wdXNoKCc8L2E+JykNCgkJCX0NCgkJCQ0KCQkJdGQuaW5uZXJIVE1MID0gdmFsdWVIdG1sLmpvaW4oJycpOw0KCQl9DQoJfSwNCgkJDQoJY3JlYXRlVGV4dDAgOiBmdW5jdGlvbihmaWVsZCwgaW5wdXRJZCwgdGQsIHZhbHVlLCBkZWZhdWx0VmFsdWUsIHRlbXBsYXRlSXNEaXNhYmxlZCkNCgl7DQoJCXZhciBpbnB1dCA9IEZpZWxkLmNyZWF0ZVRleHQoZmllbGQsIGlucHV0SWQsIHZhbHVlLCBkZWZhdWx0VmFsdWUpOw0KCQlpZiAodGVtcGxhdGVJc0Rpc2FibGVkKQ0KCQkJaW5wdXQuZGlzYWJsZWQgPSB0cnVlOw0KCQl0ZC5hcHBlbmRDaGlsZChpbnB1dCk7DQoJCXJldHVybiBpbnB1dDsNCgkJLy90ZC5hcHBlbmRDaGlsZChGaWVsZC5jcmVhdGVMYWJlbCgnVGV4dCcpKTsNCgl9LA0KCQ0KCWNyZWF0ZVRleHQgOiBmdW5jdGlvbihmaWVsZCwgaW5wdXRJZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkNCgl7DQoJCXZhciBpbnB1dCA9IHRoaXMuY2xvbmVUZXh0KCk7DQoJCWlucHV0LmlkID0gaW5wdXRJZDsNCgkJaW5wdXQubWF4TGVuZ3RoID0gZmllbGQubWF4TGVuICYmIGZpZWxkLm1heExlbiAhPSAwID8gZmllbGQubWF4TGVuIDogVGVtcGxhdGVIZWxwZXIubWF4TGVuZ3RoOw0KCQlpZiAoZmllbGQuZGlzcGxheUxlbiAmJiBmaWVsZC5kaXNwbGF5TGVuICE9IDApDQoJCXsNCgkJCWlucHV0LnN0eWxlLndpZHRoID0gZmllbGQuZGlzcGxheUxlbisncHgnOyAJCQkNCgkJfQ0KCQlpbnB1dC52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsJCQ0KCQlpbnB1dC5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7DQoJCWlucHV0LnRpdGxlID0gVGVtcGxhdGVIZWxwZXIuZ2V0RGlzcGxheUZpZWxkTmFtZShmaWVsZCk7DQoJCWlucHV0LmNsYXNzTmFtZSA9ICJwb3J0bGV0LWZvcm0taW5wdXQtZmllbGQiOw0KCQlUZW1wbGF0ZUhlbHBlci5zZXRSZWFkT25seShmaWVsZCwgaW5wdXQpOw0KCQkvL2FkZCBtYXNrDQoJCS8vVGVtcGxhdGUubGF5b3V0LndhdGVyTWFzayhmaWVsZCwgaW5wdXQpOw0KCQkNCgkJdGhpcy5hZGRFdmVudChpbnB1dCwgZmllbGQsIHZhbHVlKTsNCgkJDQoJCXJldHVybiBpbnB1dDsNCgl9LA0KDQoJY3JlYXRlRGF0ZSA6IGZ1bmN0aW9uKGZpZWxkLCBpbnB1dElkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKQ0KCXsNCgkJZGVmYXVsdFZhbHVlID0gdHJhbnNmb3JtR2xvYmFsRGF0ZVRvTG9jYWwoZGVmYXVsdFZhbHVlKTsNCgkJdmFsdWUudmFsdWUgPSBkZWZhdWx0VmFsdWU7IA0KCQl2YXIgaW5wdXQgPSBGaWVsZC5jcmVhdGVUZXh0KGZpZWxkLCBpbnB1dElkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlKTsNCgkJaW5wdXQubmFtZSA9IGlucHV0SWQ7DQoJCQ0KCQl2YXIgZGF0ZVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCgkJZGF0ZVNlbGVjdC5pZCA9IGlucHV0SWQrJ19pbWdfaWQnOw0KCQlkYXRlU2VsZWN0LmhyZWYgPSAnIyc7DQoJCWRhdGVTZWxlY3QudGl0bGUgPSAnU2VsZWN0IERhdGUnOw0KCQlpZiAoZmllbGQucmVhZE9ubHkpDQoJCXsNCgkJCWRhdGVTZWxlY3Qub25jbGljayA9IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307CQkNCgkJfQ0KCQllbHNlIGlmICh0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJCXsNCgkJCWlucHV0LmRpc2FibGVkID0gdHJ1ZTsNCgkJCWRhdGVTZWxlY3Qub25jbGljayA9IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlkYXRlU2VsZWN0Lm9uY2xpY2sgPSBCYXNlSlMuY3JlYXRlRGVsZWdhdGUod2luZG93LCBzZWxlY3REYXRlLCBbaW5wdXRJZF0pOw0KCQl9DQoJCWRhdGVTZWxlY3QuaW5uZXJIVE1MID0gJzxpbWcgc3JjPSIvcG9ydGxldHMvaW1hZ2VzL3NlbGVjdERhdGUuZ2lmIiBib3JkZXI9MCB0aXRsZT0iZGF0ZVNlbGVjdCIgYWx0PSJkYXRlU2VsZWN0Ij4nOw0KCQkNCgkJdmFyIGJsYWNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCgkJYmxhY2tTcGFuLmlubmVySFRNTCA9ICcmbmJzcDsnOw0KCQkNCgkJLy92YXIgbXNnRXJyb3JDb250YWluID0gVGVtcGxhdGVIZWxwZXIuY3JlYXRlRXJyb3JQYW5lbChpbnB1dElkKTsNCgkJLy90ZC5hcHBlbmRDaGlsZChtc2dFcnJvckNvbnRhaW4pOw0KCQl0ZC5hcHBlbmRDaGlsZChpbnB1dCk7DQoJCXRkLmFwcGVuZENoaWxkKGJsYWNrU3Bhbik7DQoJCXRkLmFwcGVuZENoaWxkKGRhdGVTZWxlY3QpOw0KCQlyZXR1cm4gaW5wdXQ7DQoJfSwNCg0KCWNyZWF0ZVJhZGlvIDogZnVuY3Rpb24oZmllbGQsIGlucHV0SWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJew0KCQl2YXIgaW5wdXQwID0gbnVsbDsNCgkJdHJ5DQoJCXsNCgkJICAgIGlucHV0MCA9ICQoIjxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0nIitpbnB1dElkICsgVGVtcGxhdGVIZWxwZXIuc2VwYXJhdGlvbisiJz4iKVswXTsgIA0KCQl9DQoJCWNhdGNoKGUpDQoJCXsgIA0KCQkgICAgaW5wdXQwID0gRmllbGQuY2xvbmVSYWRpbygpOyAgDQoJCSAgICBpbnB1dDAuc2V0QXR0cmlidXRlKCJuYW1lIiwgaW5wdXRJZCArIFRlbXBsYXRlSGVscGVyLnNlcGFyYXRpb24pOyAgDQoJCX0gDQoNCgkJdmFyIHRtcElkQXJyYXkgPSB0aGlzLmdldFJhZGlvSWQoaW5wdXRJZCk7DQoJCQ0KCQlpbnB1dDAuaWQgPSB0bXBJZEFycmF5WzBdOw0KCQlpbnB1dDAudmFsdWUgPSAnWSc7DQoJCWlucHV0MC5kZWZhdWx0Q2hlY2tlZCA9IGZhbHNlOw0KCQlpbnB1dDAudGl0bGUgPSBUZW1wbGF0ZUhlbHBlci5nZXREaXNwbGF5RmllbGROYW1lKGZpZWxkKSsnID8gJysnWWVzJzsNCgkJVGVtcGxhdGVIZWxwZXIuc2V0UmVhZE9ubHkoZmllbGQsIGlucHV0MCk7DQoJCQ0KCQl0aGlzLmFkZEV2ZW50KGlucHV0MCwgZmllbGQsIHZhbHVlKTsNCgkJDQoJCXZhciBsYWJlbDAgPSBGaWVsZC5jbG9uZUxhYmVsKCk7DQoJCWxhYmVsMC5odG1sRm9yID0gdG1wSWRBcnJheVswXTsNCgkJbGFiZWwwLmlubmVySFRNTCA9ICdZZXMnOw0KCQlsYWJlbDAuaWQgPSBUZW1wbGF0ZUhlbHBlci5nZXRMYWJsZUlkKHRtcElkQXJyYXlbMF0pOw0KCQkNCgkJdGQuYXBwZW5kQ2hpbGQoaW5wdXQwKTsNCgkJdGQuYXBwZW5kQ2hpbGQobGFiZWwwKTsNCgkJaWYgKGRlZmF1bHRWYWx1ZSA9PSAnWScpDQoJCXsNCgkJCWlucHV0MC5jaGVja2VkID0gdHJ1ZTsNCgkJCWlucHV0MC5kZWZhdWx0Q2hlY2tlZCA9IHRydWU7DQoJCX0NCgkJDQoJCXZhciBpbnB1dDEgPSBudWxsOw0KCQl0cnkNCgkJew0KCQkgICAgaW5wdXQxID0gJCgiPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSciK2lucHV0SWQgKyBUZW1wbGF0ZUhlbHBlci5zZXBhcmF0aW9uKyInPiIpWzBdOyAgDQoJCX0NCgkJY2F0Y2goZSkNCgkJeyAgDQoJCSAgICBpbnB1dDEgPSBGaWVsZC5jbG9uZVJhZGlvKCk7ICANCgkJICAgIGlucHV0MS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCBpbnB1dElkICsgVGVtcGxhdGVIZWxwZXIuc2VwYXJhdGlvbik7ICANCgkJfSANCgkJDQoJCWlucHV0MS5pZCA9IHRtcElkQXJyYXlbMV07DQoJCWlucHV0MS52YWx1ZSA9ICdOJzsNCgkJaW5wdXQxLmRlZmF1bHRDaGVja2VkID0gZmFsc2U7DQoJCWlucHV0MS50aXRsZSA9IFRlbXBsYXRlSGVscGVyLmdldERpc3BsYXlGaWVsZE5hbWUoZmllbGQpKycgPyAnKydObyc7DQoJCVRlbXBsYXRlSGVscGVyLnNldFJlYWRPbmx5KGZpZWxkLCBpbnB1dDEpOw0KCQkNCgkJdGhpcy5hZGRFdmVudChpbnB1dDEsIGZpZWxkLCB2YWx1ZSk7CQkNCg0KCQl2YXIgbGFiZWwxID0gRmllbGQuY2xvbmVMYWJlbCgpOw0KCQlsYWJlbDEuaHRtbEZvciA9IHRtcElkQXJyYXlbMV07DQoJCWxhYmVsMS5pbm5lckhUTUwgPSAnTm8nOw0KCQlsYWJlbDEuaWQgPSBUZW1wbGF0ZUhlbHBlci5nZXRMYWJsZUlkKHRtcElkQXJyYXlbMV0pOw0KCQkNCgkJdmFyIGlucHV0SGlkZGVuID0gRmllbGQuY2xvbmVUZXh0KCk7DQoJCWlucHV0SGlkZGVuLnR5cGUgPSAnaGlkZGVuJzsNCgkJaW5wdXRIaWRkZW4uaWQgPSBpbnB1dElkOw0KCQlpbnB1dEhpZGRlbi52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsNCgkJJChpbnB1dEhpZGRlbikuZGF0YSgnZmllbGQnLCBmaWVsZCk7DQoJCSQoaW5wdXRIaWRkZW4pLmRhdGEoJ3ZhbHVlT2JqJywgdmFsdWUpOw0KCQkNCgkJdGQuYXBwZW5kQ2hpbGQoaW5wdXQxKTsNCgkJdGQuYXBwZW5kQ2hpbGQobGFiZWwxKTsNCgkJaWYgKGRlZmF1bHRWYWx1ZSA9PSAnTicpDQoJCXsNCgkJCWlucHV0MS5jaGVja2VkID0gdHJ1ZTsNCgkJCWlucHV0MS5kZWZhdWx0Q2hlY2tlZCA9IHRydWU7DQoJCQkNCgkJfQkJDQoJCXRkLmFwcGVuZENoaWxkKGlucHV0SGlkZGVuKTsNCgkJaWYgKHRlbXBsYXRlSXNEaXNhYmxlZCkNCgkJew0KCQkJaW5wdXQwLmRpc2FibGVkID0gdHJ1ZTsNCgkJCWlucHV0MS5kaXNhYmxlZCA9IHRydWU7DQoJCX0NCgkJcmV0dXJuIFtpbnB1dDAsIGlucHV0MV07DQoJfSwNCg0KCWNyZWF0ZU51bWJlciA6IGZ1bmN0aW9uKGZpZWxkLCBpbnB1dElkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKQ0KCXsNCgkJdmFyIGlucHV0ID0gRmllbGQuY3JlYXRlVGV4dChmaWVsZCwgaW5wdXRJZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSk7DQoJCQ0KCQkvL3RoaXMuYWRkRXZlbnQoaW5wdXQsIGZpZWxkLCB2YWx1ZSk7DQoJCXRkLmFwcGVuZENoaWxkKGlucHV0KTsNCgkJdmFyIGJsYW5rU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCgkJYmxhbmtTcGFuLmlubmVySFRNTCA9ICcmbmJzcDsnOw0KCQl0ZC5hcHBlbmRDaGlsZChibGFua1NwYW4pOw0KCQlpZiAodGVtcGxhdGVJc0Rpc2FibGVkKQ0KCQkJaW5wdXQuZGlzYWJsZWQgPSB0cnVlOw0KCQlyZXR1cm4gaW5wdXQ7DQoJfSwNCgkNCgljcmVhdGVEcm9wZG93biA6IGZ1bmN0aW9uKGZpZWxkLCBpbnB1dElkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKQ0KCXsNCgkJdmFyIHNlbGVjdCA9IEZpZWxkLmNsb25lU2VsZWN0KCk7DQoJCXRkLmFwcGVuZENoaWxkKHNlbGVjdCk7DQoJCXNlbGVjdC5pZCA9IGlucHV0SWQ7DQoJCXNlbGVjdC50aXRsZSA9IFRlbXBsYXRlSGVscGVyLmdldERpc3BsYXlGaWVsZE5hbWUoZmllbGQpOw0KCQlUZW1wbGF0ZUhlbHBlci5zZXRSZWFkT25seShmaWVsZCwgc2VsZWN0KTsNCgkJaWYgKGZpZWxkLmRpc3BsYXlMZW4gJiYgZmllbGQuZGlzcGxheUxlbiAhPSAwKQ0KCQl7DQoJCQlzZWxlY3Quc3R5bGUud2lkdGggPSBmaWVsZC5kaXNwbGF5TGVuKydweCc7DQoJCX0NCgkJdmFyIG9wdGlvbnMgPSBzZWxlY3Qub3B0aW9uczsNCgkJdmFyIG9wdGlvbiA9IHRoaXMuY2xvbmVPcHRpb24oKTsNCgkJb3B0aW9uLnRleHQgPSBzZWxlY3RMYWJlbDsNCgkJb3B0aW9uLnZhbHVlID0gJyc7DQoJCW9wdGlvbnMuYWRkKG9wdGlvbik7DQoJCXZhciBvcHRpb25PYmogPSBmaWVsZC5vcHRpb25zOw0KCQkNCgkJaWYgKGRlZmF1bHRWYWx1ZSAmJiBvcHRpb25PYmogJiYgb3B0aW9uT2JqW2RlZmF1bHRWYWx1ZV0pDQoJCXsNCgkJCXZhciBvcHRpb24gPSB0aGlzLmNsb25lT3B0aW9uKCk7DQoJCQlvcHRpb24udGV4dCA9IG9wdGlvbk9ialtkZWZhdWx0VmFsdWVdOw0KCQkJb3B0aW9uLnZhbHVlID0gZGVmYXVsdFZhbHVlOw0KCQkJb3B0aW9ucy5hZGQob3B0aW9uKTsNCgkJCXNlbGVjdC52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsNCgkJfQ0KCQkvL3RoaXMuY29uc3RydWN0T3B0aW9uKHRoaXMsIGZpZWxkLCBzZWxlY3QsIHRkLCB2YWx1ZSk7DQoJCS8vZmllbGQuYWRkTGlzdGVuZXIoJ2FmZmVyUmVuZGVyJywgRmllbGQuY29uc3RydWN0T3B0aW9uKTsNCgkJdGhpcy5hZGRFdmVudChzZWxlY3QsIGZpZWxkLCB2YWx1ZSk7DQoJCWlmICh0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJCQlzZWxlY3QuZGlzYWJsZWQgPSB0cnVlOw0KCQlyZXR1cm4gc2VsZWN0Ow0KCX0sDQoJDQoJY29uc3RydWN0T3B0aW9uIDogZnVuY3Rpb24oc2NvcGUsIGZpZWxkLCBzZWxlY3QsIHRkLCB2YWx1ZSkNCgl7DQoJCXZhciBvcHRpb25zID0gZmllbGQub3B0aW9uczsNCgkJdmFyIGRlZmF1bHRWYWx1ZSA9ICF2YWx1ZS52YWx1ZSA/ICcnIDogdmFsdWUudmFsdWU7DQoJCXZhciBzZWxlY3RPcHRpb25zID0gc2VsZWN0Lm9wdGlvbnM7DQoJCXZhciBvcmlnbmFsTGlzdGVuZXIgPSBzZWxlY3QubGlzdGVuZXI7DQoJCQ0KCQlpZiAoc2VsZWN0T3B0aW9ucyAmJiBzZWxlY3RPcHRpb25zLmxlbmd0aCA+IDApDQoJCXsNCgkJCWZvciAodmFyIGkgPSBzZWxlY3RPcHRpb25zLmxlbmd0aDsgaSA+PTAgOyBpLS0pDQoJCQl7DQoJCQkJc2VsZWN0LnJlbW92ZShzZWxlY3RPcHRpb25zW2ldKTsNCgkJCX0NCgkJfQ0KCQl2YXIgb3V0ZXJIVE1MID0gc2VsZWN0Lm91dGVySFRNTDsNCgkJdmFyIG9wdGlvblN0ciA9ICcnOw0KCQlvcHRpb25TdHIgKz0gJzxvcHRpb24gdmFsdWU9IiIgdGl0bGU9IlNlbGVjdCI+JytzZWxlY3RMYWJlbCsnPC9vcHRpb24+JzsNCgkJdmFyIGVuY29kZVY7DQoJCWZvciAodmFyIHYgaW4gb3B0aW9ucykNCgkJew0KCQkJZW5jb2RlViA9IEJhc2VKUy5odG1sRW5jb2RlKHYpOw0KCQkJb3B0aW9uU3RyICs9ICc8b3B0aW9uIHZhbHVlPSInK2VuY29kZVYrJyInOw0KCQkJaWYgKGRlZmF1bHRWYWx1ZSA9PSB2KQ0KCQkJew0KCQkJCW9wdGlvblN0ciArPSAnc2VsZWN0ZWQ9InNlbGVjdGVkIic7DQoJCQl9DQoJCQlvcHRpb25TdHIgKz0gJyB0aXRsZSA9ICInK29wdGlvbnNbdl0rJyI+JzsNCgkJCW9wdGlvblN0ciArPSBvcHRpb25zW3ZdID8gb3B0aW9uc1t2XSA6IGVuY29kZVY7DQoJCQlvcHRpb25TdHIgKz0gJzwvb3B0aW9uPic7DQoJCX0NCgkJb3V0ZXJIVE1MID0gb3V0ZXJIVE1MLnJlcGxhY2UoJzwvU0VMRUNUPicsICcnKS5yZXBsYWNlKCc8L3NlbGVjdD4nLCAnJyk7DQoJCW91dGVySFRNTCArPSBvcHRpb25TdHI7DQoJCW91dGVySFRNTCArPSAnPC9TRUxFQ1Q+JzsNCgkJc2VsZWN0Lm91dGVySFRNTCA9IG91dGVySFRNTDsNCgkJDQoJCXZhciBjaGlsZCA9IHRkLmZpcnN0Q2hpbGQsIGZuQXJyYXk7DQoJCSQoY2hpbGQpLmRhdGEoJ2ZpZWxkJywgZmllbGQpOw0KCQkkKGNoaWxkKS5kYXRhKCd2YWx1ZU9iaicsIHZhbHVlKTsNCgkJLy8gYWRkIG9yaWdpbmFsIGV2ZW50cw0KCQlmb3IgKCB2YXIgZXZlbnRUeXBlIGluIG9yaWduYWxMaXN0ZW5lcikgDQoJCXsNCgkJCWZuQXJyYXkgPSBvcmlnbmFsTGlzdGVuZXJbZXZlbnRUeXBlXTsNCgkJCWZvciAoIHZhciBpID0gMDsgaSA8IGZuQXJyYXkubGVuZ3RoOyBpKyspDQoJCQl7DQoJCQkJaWYgKGV2ZW50VHlwZSA9PSAnZm9jdXMnIHx8IGV2ZW50VHlwZSA9PSAnbW91c2VvdmVyJykNCgkJCQl7DQoJCQkJCWlmIChmbkFycmF5W2ldID09IEZpZWxkLmdldExpc3RlbmVyRm4oKSkNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQl9DQoJCQkJQmFzZUpTLmFkZEV2ZW50SGFuZGxlcihjaGlsZCwgZXZlbnRUeXBlLCBmbkFycmF5W2ldKTsNCgkJCX0NCgkJfQ0KCX0sDQoJDQoJY3JlYXRlVGV4dGFyZWEgOiBmdW5jdGlvbihmaWVsZCwgaW5wdXRJZCwgdGQwLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJew0KCQl2YXIgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOw0KCQl0YWJsZS5ib3JkZXIgPSAnMCc7DQoJCXRhYmxlLmNlbGxTcGFjaW5nID0gJzAnOw0KCQl0YWJsZS5jZWxsUGFkZGluZyA9ICcwJzsNCgkJdGFibGUud2lkdGggPSAnMTAwJSc7DQoJCQ0KCQl2YXIgdHIgPSBUZW1wbGF0ZUhlbHBlci5pbnNlcnRSb3codGFibGUpOw0KCQl2YXIgdGQgPSBUZW1wbGF0ZUhlbHBlci5pbnNlcnRDZWxsKHRyKTsNCgkJdmFyIHRleHRhcmVhID0gRmllbGQuY2xvbmVUZXh0YXJlYSgpOw0KCQkNCgkJdGV4dGFyZWEuY2xhc3NOYW1lID0gInBvcnRsZXQtZm9ybS1pbnB1dC1maWVsZCI7DQoJCXRleHRhcmVhLmlkID0gaW5wdXRJZDsNCgkJdGV4dGFyZWEubmFtZSA9IGlucHV0SWQ7DQoJCXRleHRhcmVhLnZhbHVlID0gZGVmYXVsdFZhbHVlOw0KCQl0ZXh0YXJlYS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7DQoJCXRleHRhcmVhLnRpdGxlID0gVGVtcGxhdGVIZWxwZXIuZ2V0RGlzcGxheUZpZWxkTmFtZShmaWVsZCk7Ow0KCQl0ZXh0YXJlYS5tYXhsZW5ndGggPSBmaWVsZC5tYXhMZW4gJiYgZmllbGQubWF4TGVuICE9IDAgPyBmaWVsZC5tYXhMZW4gOiBUZW1wbGF0ZUhlbHBlci50ZXh0QXJlYU1heExlbmd0aDsNCgkJaWYgKGZpZWxkLmRpc3BsYXlMZW4gJiYgZmllbGQuZGlzcGxheUxlbiAhPSAwKQ0KCQl7DQoJCQl0ZXh0YXJlYS5zdHlsZS53aWR0aCA9IGZpZWxkLmRpc3BsYXlMZW4gKyAicHgiOyAJCQkNCgkJfQ0KCQlpZihmaWVsZC5zdHlsZUhlaWdodCAmJiBmaWVsZC5zdHlsZUhlaWdodCAhPSAwKQ0KCQl7DQoJCQl0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBmaWVsZC5zdHlsZUhlaWdodCArICJweCI7IA0KCQl9DQoJCWVsc2UNCgkJew0KCQkJdGV4dGFyZWEucm93ID0gJzUnOw0KCQl9DQoJCQ0KCQlhZGRMaW1pdGVkRXZlbnRGb3JUZXh0QXJlYSh0ZXh0YXJlYSk7DQoJCQ0KCQkvL2FkZCBtYXNrDQoJCS8vVGVtcGxhdGUubGF5b3V0LndhdGVyTWFzayhmaWVsZCwgdGV4dGFyZWEpOw0KCQkNCgkJVGVtcGxhdGVIZWxwZXIuc2V0UmVhZE9ubHkoZmllbGQsIHRleHRhcmVhKTsNCgkJDQoJCXRoaXMuYWRkRXZlbnQodGV4dGFyZWEsIGZpZWxkLCB2YWx1ZSk7DQoNCgkJdGQuYXBwZW5kQ2hpbGQodGV4dGFyZWEpOw0KCQl0ciA9IFRlbXBsYXRlSGVscGVyLmluc2VydFJvdyh0YWJsZSk7DQoJCXRkID0gVGVtcGxhdGVIZWxwZXIuaW5zZXJ0Q2VsbCh0cik7DQoJCXRkLmFsaWduID0gJ2xlZnQnOw0KCQl0ZC5jbGFzc05hbWUgPSAnaW5wdXRmaWVsZGxhYmVsJzsNCgkJaWYgKCFmaWVsZC5yZWFkT25seSAmJiBpc1NwZWxsaW5nQ2hlY2tlckVuYWJsZWQ9PXRydWUpDQoJCXsNCgkJCXZhciBzcGVsbExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQoJCQlzcGVsbExpbmsuaWQgPSBpbnB1dElkKydfc3BlbGxMaW5rJzsNCgkJCWlmICh0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJCQkJc3BlbGxMaW5rLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApOyc7DQoJCQllbHNlDQoJCQkgICAgc3BlbGxMaW5rLmhyZWYgPSAnamF2YXNjcmlwdDpkb1NwZWxsQ2hlY2soIi9wb3J0bGV0cy9jb21tb25zL3NwZWxsY2hlY2tlci8iLCAiJytpbnB1dElkKyciICk7JzsNCgkJCXNwZWxsTGluay5pbm5lckhUTUwgPSBzcGVsbGNoZWNrZXJNc2c7DQoJCQl0ZC5hcHBlbmRDaGlsZChzcGVsbExpbmspOw0KCQl9DQoJCQ0KCQkNCgkJdGQwLmFwcGVuZENoaWxkKHRhYmxlKTsNCgkJaWYgKHRlbXBsYXRlSXNEaXNhYmxlZCkNCgkJCXRleHRhcmVhLmRpc2FibGVkID0gdHJ1ZTsNCgkJcmV0dXJuIHRleHRhcmVhOw0KCX0sDQoNCgljcmVhdGVUaW1lIDogZnVuY3Rpb24oZmllbGQsIGlucHV0SWQsIHRkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCB0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJew0KCQlkZWZhdWx0VmFsdWUgPSB2YWx1ZS52YWx1ZSAmJiB2YWx1ZS52YWx1ZS5pbmRleE9mKCc6JykgPiAwID8gdmFsdWUudmFsdWUgOiAgJyA6ICc7DQoJCS8vIEhpZGRlbiBvbmUgSW5wdXQgdG8gc3RvcmUgdGhlIFRpbWUgdmFsdWUuDQoJCXZhciB0aW1lSW5wdXQgPSBGaWVsZC5jcmVhdGVUZXh0KGZpZWxkLCBpbnB1dElkLCB2YWx1ZSk7DQoJCXRpbWVJbnB1dC50eXBlID0gJ2hpZGRlbic7DQoJCXRpbWVJbnB1dC52YWx1ZSA9IGRlZmF1bHRWYWx1ZTsNCgkJdGQuYXBwZW5kQ2hpbGQodGltZUlucHV0KTsNCgkJdmFyIGFycmF5ID0gZGVmYXVsdFZhbHVlLnNwbGl0KCc6Jyk7DQoJCQ0KCQl2YXIgZGF0ZVRpbWVEcm9wZG93bklkQXJyYXkgPSB0aGlzLmdldERhdGVUaW1lSWQoaW5wdXRJZCk7DQoJCQ0KCQl2YXIgaG91ciA9IEZpZWxkLmNsb25lU2VsZWN0KCk7DQoJCWhvdXIuaWQgPSBkYXRlVGltZURyb3Bkb3duSWRBcnJheVswXTsNCgkJaG91ci50aXRsZSA9IFRlbXBsYXRlSGVscGVyLmdldERpc3BsYXlGaWVsZE5hbWUoZmllbGQpOw0KCQlob3VyLmNsYXNzTmFtZSA9ICdwb3J0bGV0LWZvcm0tZmllbGQnOw0KCQlUZW1wbGF0ZUhlbHBlci5zZXRSZWFkT25seShmaWVsZCwgaG91cik7DQoJCQ0KCQl2YXIgb3B0aW9uT2JqID0gaG91ci5vcHRpb25zOw0KCQl2YXIgb3B0aW9uOw0KCQl2YXIgb3B0aW9uSW5pdCA9IEZpZWxkLmNsb25lT3B0aW9uKCk7DQoJCW9wdGlvbkluaXQuaW5uZXJUZXh0ID0gJy0tU2VsZWN0LS0nOw0KCQlvcHRpb25Jbml0LnZhbHVlID0gJyAnOw0KCQlob3VyLmFwcGVuZENoaWxkKG9wdGlvbkluaXQpOw0KCQl2YXIgaW5kZXg7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgMjQ7IGkrKykNCgkJew0KCQkJb3B0aW9uID0gRmllbGQuY2xvbmVPcHRpb24oKTsNCgkJCWlmIChpIDwgMTApDQoJCQl7DQoJCQkJaW5kZXggPSAnMCcraTsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlpbmRleCA9IGk7DQoJCQl9DQoJCQlvcHRpb24uaW5uZXJUZXh0ID0gaW5kZXg7DQoJCQlvcHRpb24udGl0bGUgPSBpbmRleDsNCgkJCW9wdGlvbi52YWx1ZSA9IGluZGV4Ow0KCQkJDQoJCQlpZiAoYXJyYXlbMF0gPT0gb3B0aW9uLnZhbHVlKQ0KCQkJew0KCQkJCW9wdGlvbi5zZWxlY3RlZCA9IHRydWU7DQoJCQkJb3B0aW9uLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7DQoJCQl9DQoJCQkNCgkJCWhvdXIuYXBwZW5kQ2hpbGQob3B0aW9uKTsNCgkJfQ0KCQkvL3NldCB0aW1lIHZhbHVlDQoJCWhvdXIub25jaGFuZ2UgPSBmdW5jdGlvbigpDQoJCXsNCgkJCXZhciBob3VyVmFsdWUgPSB0aGlzLnZhbHVlOw0KCQkJdmFyIGlucHV0VmFsdWUgPSB0aW1lSW5wdXQudmFsdWU7DQoJCQl0aW1lSW5wdXQudmFsdWUgPSBob3VyVmFsdWUgKyBpbnB1dFZhbHVlLnN1YnN0cihpbnB1dFZhbHVlLmluZGV4T2YoJzonKSk7DQoJCQl2YWx1ZS52YWx1ZSA9IHRpbWVJbnB1dC52YWx1ZTsNCgkJCUZpZWxkLnZhbGlkYXRlVGltZShpbnB1dElkLCB0aW1lSW5wdXQsIGZpZWxkKTsNCgkJfQ0KDQoJCXZhciBtaW51dGVyID0gRmllbGQuY2xvbmVTZWxlY3QoKTsNCgkJbWludXRlci5pZCA9IGRhdGVUaW1lRHJvcGRvd25JZEFycmF5WzFdOw0KCQltaW51dGVyLnRpdGxlID0gVGVtcGxhdGVIZWxwZXIuZ2V0RGlzcGxheUZpZWxkTmFtZShmaWVsZCk7DQoJCW1pbnV0ZXIuY2xhc3NOYW1lID0gJ3BvcnRsZXQtZm9ybS1maWVsZCc7DQoJCVRlbXBsYXRlSGVscGVyLnNldFJlYWRPbmx5KGZpZWxkLCBtaW51dGVyKTsNCgkJDQoJCQ0KCQlvcHRpb25PYmogPSBtaW51dGVyLm9wdGlvbnM7DQoJCW9wdGlvbkluaXQgPSBGaWVsZC5jbG9uZU9wdGlvbigpOw0KCQlvcHRpb25Jbml0LmlubmVyVGV4dCA9ICctLVNlbGVjdC0tJzsNCgkJb3B0aW9uSW5pdC52YWx1ZSA9ICcgJzsNCgkJbWludXRlci5hcHBlbmRDaGlsZChvcHRpb25Jbml0KTsNCgkJDQoJCWZvciAodmFyIGkgPSAwOyBpIDwgNjA7IGkrKykNCgkJew0KCQkJb3B0aW9uID0gRmllbGQuY2xvbmVPcHRpb24oKTsJCQkNCgkJCWlmIChpIDwgMTApDQoJCQl7DQoJCQkJaW5kZXggPSAnMCcraTsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlpbmRleCA9IGk7DQoJCQl9DQoJCQlvcHRpb24uaW5uZXJUZXh0ID0gaW5kZXg7DQoJCQlvcHRpb24udGl0bGUgPSBpbmRleDsNCgkJCW9wdGlvbi52YWx1ZSA9IGluZGV4Ow0KCQkJDQoJCQlpZiAoYXJyYXlbMV0gPT0gb3B0aW9uLnZhbHVlKQ0KCQkJew0KCQkJCW9wdGlvbi5zZWxlY3RlZCA9IHRydWU7DQoJCQkJb3B0aW9uLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7DQoJCQl9DQoJCQltaW51dGVyLmFwcGVuZENoaWxkKG9wdGlvbik7DQoJCX0NCgkJLy9zZXQgdGltZSB2YWx1ZQ0KCQltaW51dGVyLm9uY2hhbmdlID0gZnVuY3Rpb24oKQ0KCQl7DQoJCQl2YXIgbWludXRlVmFsdWUgPSB0aGlzLnZhbHVlOw0KCQkJdmFyIGlucHV0VmFsdWUgPSB0aW1lSW5wdXQudmFsdWU7DQoJCQl0aW1lSW5wdXQudmFsdWUgPSBpbnB1dFZhbHVlLnN1YnN0cigwLCBpbnB1dFZhbHVlLmluZGV4T2YoJzonKSkgKyAnOicgKyBtaW51dGVWYWx1ZTsNCgkJCXZhbHVlLnZhbHVlID0gdGltZUlucHV0LnZhbHVlOw0KCQkJRmllbGQudmFsaWRhdGVUaW1lKGlucHV0SWQsIHRpbWVJbnB1dCwgZmllbGQpOw0KCQl9DQoJCWlmIChpc1JUTCkNCgkJew0KCQkJdGQuYXBwZW5kQ2hpbGQobWludXRlcik7CQkJDQoJCQl0ZC5hcHBlbmRDaGlsZChob3VyKTsNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCXRkLmFwcGVuZENoaWxkKGhvdXIpOw0KCQkJdGQuYXBwZW5kQ2hpbGQobWludXRlcik7DQoJCX0NCgkJDQoJCWlmICh0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJCXsNCgkJCWhvdXIuZGlzYWJsZWQgPSB0cnVlOw0KCQkJbWludXRlci5kaXNhYmxlZCA9IHRydWU7DQoJCX0NCgl9LA0KCQ0KCXZhbGlkYXRlVGltZSA6IGZ1bmN0aW9uIChpbnB1dElkLCBpbnB1dCwgZmllbGQpDQoJew0KCQlpZiAoVmFsaWRhdGUudmFsaWRhdGVUaW1lKGlucHV0LnZhbHVlKSkNCgkJew0KCQkJSW5wdXQuYWxlcnRNc2coaW5wdXRJZCwgJycpOw0KCQl9DQoJCWVsc2UNCgkJew0KCQkJaWYgKCc6JyA9PSBpbnB1dC52YWx1ZS50cmltKCkpLy9kb2Vzbid0IGVtcHR5DQoJCQl7DQoJCQkJaWYgKGZpZWxkLnJlcXVpcmVGbGFnID09ICdZJ3x8ICQoaW5wdXQpLmRhdGEoJ3ZhbHVlT2JqJykucmVxdWlyZWQgPT0gIlkiKQ0KCQkJCXsNCgkJCQkJSW5wdXQuYWxlcnRNc2coaW5wdXRJZCwgcmVxdWlyZWQpOwkJDQoJCQkJfQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCUlucHV0LmFsZXJ0TXNnKGlucHV0SWQsICcnKTsNCgkJCQl9DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJSW5wdXQuYWxlcnRNc2coaW5wdXRJZCwgcmVxdWlyZWQpOw0KCQl9DQoJfSwNCgkNCgljcmVhdGVNb25leSA6IGZ1bmN0aW9uKGZpZWxkLCBpbnB1dElkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKQ0KCXsNCgkJdmFyIGlucHV0ID0gRmllbGQuY3JlYXRlVGV4dChmaWVsZCwgaW5wdXRJZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZT8gZGVmYXVsdFZhbHVlIDogJycpOw0KCQlpbnB1dC5pZCA9IGlucHV0SWQ7DQoJCWlucHV0LnZhbHVlID0gZGVmYXVsdFZhbHVlOw0KCQkNCgkJdGQuYXBwZW5kQ2hpbGQoaW5wdXQpOw0KCQl2YXIgYmxhbmtTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOw0KCQlibGFua1NwYW4uaW5uZXJIVE1MID0gJyZuYnNwOyc7DQoJCXRkLmFwcGVuZENoaWxkKGJsYW5rU3Bhbik7DQoJCWlmICh0ZW1wbGF0ZUlzRGlzYWJsZWQpDQoJCQlpbnB1dC5kaXNhYmxlZCA9IHRydWU7DQoJCXJldHVybiBpbnB1dDsNCgl9LA0KDQoJY3JlYXRlQ2hlY2JveCA6IGZ1bmN0aW9uKGZpZWxkLCBpbnB1dElkLCB0ZCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgdGVtcGxhdGVJc0Rpc2FibGVkKQ0KCXsNCgkJdmFyIGlucHV0ID0gRmllbGQuY2xvbmVDaGVja2JveCgpOw0KCQlpbnB1dC5pZCA9IGlucHV0SWQ7DQoJCWlucHV0LnZhbHVlID0gJ0NIRUNLRUQnOw0KCQl2YXIgdG1wID0gVGVtcGxhdGVIZWxwZXIuZ2V0RGlzcGxheUZpZWxkTmFtZShmaWVsZCk7DQoJCXRtcCA9IEJhc2VKUy5odG1sRW5jb2RlKHRtcCk7DQoJCWlucHV0LnRpdGxlID0gdG1wOw0KCQkNCgkJVGVtcGxhdGVIZWxwZXIuc2V0UmVhZE9ubHkoZmllbGQsIGlucHV0KTsNCgkJdGhpcy5hZGRFdmVudChpbnB1dCwgZmllbGQsIHZhbHVlKTsNCg0KCQl0ZC5hcHBlbmRDaGlsZChpbnB1dCk7DQoJCWlmIChkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gJ2NoZWNrZWQnKQ0KCQl7DQoJCQlpbnB1dC5jaGVja2VkID0gdHJ1ZTsNCgkJCWlucHV0LmRlZmF1bHRDaGVja2VkID0gdHJ1ZTsNCgkJfQ0KCQlpZiAodGVtcGxhdGVJc0Rpc2FibGVkKQ0KCQkJaW5wdXQuZGlzYWJsZWQgPSB0cnVlOw0KCQlyZXR1cm4gaW5wdXQ7DQoJfSwNCgkNCgljcmVhdGVMYWJlbCA6IGZ1bmN0aW9uKGNvbnRleHQsIGlkKQ0KCXsNCgkJdmFyIGxhYmVsMCA9IEZpZWxkLmNsb25lTGFiZWwoKTsNCgkJbGFiZWwwLmlkID0gaWQrJ19tc2dMYWJlbF9pZCc7DQoJCWxhYmVsMC5pbm5lckhUTUwgPSAnPGZvbnQgY2xhc3M9ImlucHV0RmllbGQiPicrY29udGV4dCsnPC9mb250Pic7DQoJCXJldHVybiBsYWJlbDA7CQkNCgl9LA0KCQ0KCWFkZEV2ZW50IDogZnVuY3Rpb24gKG9iaiwgZmllbGQsIHZhbHVlT2JqKQ0KCXsNCgkJJChvYmopLmRhdGEoImZpZWxkIiwgZmllbGQpOw0KCQkkKG9iaikuZGF0YSgidmFsdWVPYmoiLCB2YWx1ZU9iaik7DQoJCQ0KCQlmb3IgKHZhciB0eXBlIGluIFRlbXBsYXRlSGVscGVyLmV2ZW50cykNCgkJew0KCQkJaWYgKCFmaWVsZFt0eXBlXSkNCgkJCXsNCgkJCQljb250aW51ZTsNCgkJCX0NCgkJCUJhc2VKUy5hZGRFdmVudEhhbmRsZXIob2JqLCB0eXBlLCAgdGhpcy5nZXRMaXN0ZW5lckZuKCkpOw0KCQl9DQoJfSwNCgkNCglnZXRMaXN0ZW5lckZuIDogZnVuY3Rpb24gKCkNCgl7DQoJCWlmICh0aGlzLl9saXN0ZW5lcikNCgkJCXJldHVybiB0aGlzLl9saXN0ZW5lcjsNCgkJdGhpcy5fbGlzdGVuZXIgPSBmdW5jdGlvbihlKXsNCgkJCXZhciB0eXBlID0gZS50eXBlOw0KCQkJdmFyIHRhcmdldCA9IFRlbXBsYXRlSGVscGVyLmdldFRhcmdldChlKTsNCgkJCXZhciBmaWVsZCA9ICQodGFyZ2V0KS5kYXRhKCdmaWVsZCcpOw0KCQkJdmFyIHZhbHVlT2JqID0gJCh0YXJnZXQpLmRhdGEoJ3ZhbHVlT2JqJyk7DQoJCQlpZiAoZmllbGRbdHlwZV0pDQoJCQl7DQoJCQkJZmllbGRbdHlwZV0uYXBwbHkoZmllbGQsIFt0YXJnZXQsIGZpZWxkLCB2YWx1ZU9ial0pOw0KCQkJfQ0KCQl9Ow0KCQlyZXR1cm4gdGhpcy5fbGlzdGVuZXI7DQoJfQ0KfTsNCg==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>