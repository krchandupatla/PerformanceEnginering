<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="207">
  <HTTPTask id="209" hostname="aa-pt6245.dev.accela.com:5443" path="/portlets/framework/includes/javascript/ajaxAnyWhere.js" url="https://aa-pt6245.dev.accela.com:5443/portlets/framework/includes/javascript/ajaxAnyWhere.js" ip="13.93.163.237" port="5443" client_ip="10.1.61.63" client_port="9074" connectionId="1988" origin="Primary" startDateTime="2017-08-28T11:27:28.954-07:00" startTime="9743" endTime="9751" sendTime="8" waitTime="1" receiveTime="1">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Referer" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9hZGRyZXNzL3JlZkFkZHJlc3NMaXN0LmRvP21vZGU9U2VhcmNo</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNFU1NJT05JRD00MGtvRFN6KzRwMmQtb1pxeklzZEtQKzA7IEpTRVNTSU9OSUQ9KioqKioqKioqKioqKioqKioqKioqKioqKioqOyBMQVNURVNUX1JFUVVFU1RfVElNRT0xNTAzOTQ0ODQ2NTQ0OyBob3N0U2lnbk9uPXRydWU7IGdfY3VycmVudF9sYW5ndWFnZV9leHQ9ZW5fVVM7IExBVEVTVF9XRUJfU0VSVkVSPTEwLjEuMC42OyBMQVRFU1RfU0VTU0lPTl9JRD00MGtvRFN6KzRwMmQtb1pxeklzZEtQKzA7IEFDQXV0aD01OTE0OTEyOTg2ODMwNjI5Nzk0NDY0NDQwMzgyMTU3NzkyMTI2MjUwNjc1ODQ1MzcyNTUxNDk2MjI0MzY1NTg1MDIwODAwMjcwNTUxNjQyMjQ2MTExMDI1MTI3NjAwODgxNTA5MzQwMTM4NzM2NTQzMzQ5MzA4OTgzNDE1MDYyMTsgQUNTaWduT25Nb2R1bGU9U1NPU3RhbmRhcmQ7IEFBUGVyc2lzdExvZ2luU2VydlByb3ZDb2RlPUZMQUdTVEFGRjsgTG9naW5TZXJ2UHJvdkNvZGU0TXVsdGlBZ2VuY3k9RkxBR1NUQUZGOyBMb2dpblVzZXJuYW1lNE11bHRpQWdlbmN5PTE3OUREMTNBMTg2MDI4RjQ7IEFDU2lnbm9mZj0iaHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9zZWN1cml0eS9zaWdub3V0LmRvIjsgQUNTd2l0Y2hBZ2VuY3k9Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvY29tbW9ucy9zc28vYmxhbmsuanNwIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9wb3J0bGV0cy9mcmFtZXdvcmsvaW5jbHVkZXMvamF2YXNjcmlwdC9hamF4QW55V2hlcmUuanMgSFRUUC8xLjENClJlZmVyZXI6IGh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvYWRkcmVzcy9yZWZBZGRyZXNzTGlzdC5kbz9tb2RlPVNlYXJjaA0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMNCkFjY2VwdDogKi8qDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpIb3N0OiBhYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0Mw0KQ29va2llOiBKU0VTU0lPTklEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgSlNFU1NJT05JRD0qKioqKioqKioqKioqKioqKioqKioqKioqKio7IExBU1RFU1RfUkVRVUVTVF9USU1FPTE1MDM5NDQ4NDY1NDQ7IGhvc3RTaWduT249dHJ1ZTsgZ19jdXJyZW50X2xhbmd1YWdlX2V4dD1lbl9VUzsgTEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IExBVEVTVF9TRVNTSU9OX0lEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgQUNBdXRoPTU5MTQ5MTI5ODY4MzA2Mjk3OTQ0NjQ0NDAzODIxNTc3OTIxMjYyNTA2NzU4NDUzNzI1NTE0OTYyMjQzNjU1ODUwMjA4MDAyNzA1NTE2NDIyNDYxMTEwMjUxMjc2MDA4ODE1MDkzNDAxMzg3MzY1NDMzNDkzMDg5ODM0MTUwNjIxOyBBQ1NpZ25Pbk1vZHVsZT1TU09TdGFuZGFyZDsgQUFQZXJzaXN0TG9naW5TZXJ2UHJvdkNvZGU9RkxBR1NUQUZGOyBMb2dpblNlcnZQcm92Q29kZTRNdWx0aUFnZW5jeT1GTEFHU1RBRkY7IExvZ2luVXNlcm5hbWU0TXVsdGlBZ2VuY3k9MTc5REQxM0ExODYwMjhGNDsgQUNTaWdub2ZmPSJodHRwczovL2FhLXB0NjI0NS5kZXYuYWNjZWxhLmNvbTo1NDQzL3BvcnRsZXRzL3NlY3VyaXR5L3NpZ25vdXQuZG8iOyBBQ1N3aXRjaEFnZW5jeT0iaHR0cHM6Ly9hYS1wdDYyNDUuZGV2LmFjY2VsYS5jb206NTQ0My9wb3J0bGV0cy9jb21tb25zL3Nzby9ibGFuay5qc3AiDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="JSESSIONID" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDBrb0RTeis0cDJkLW9acXpJc2RLUCsw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="JSESSIONID" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>KioqKioqKioqKioqKioqKioqKioqKioqKioq</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LASTEST_REQUEST_TIME" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTUwMzk0NDg0NjU0NA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="hostSignOn" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dHJ1ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="g_current_language_ext" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW5fVVM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LATEST_WEB_SERVER" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMS4wLjY=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LATEST_SESSION_ID" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDBrb0RTeis0cDJkLW9acXpJc2RLUCsw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACAuth" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTkxNDkxMjk4NjgzMDYyOTc5NDQ2NDQ0MDM4MjE1Nzc5MjEyNjI1MDY3NTg0NTM3MjU1MTQ5NjIyNDM2NTU4NTAyMDgwMDI3MDU1MTY0MjI0NjExMTAyNTEyNzYwMDg4MTUwOTM0MDEzODczNjU0MzM0OTMwODk4MzQxNTA2MjE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSignOnModule" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>U1NPU3RhbmRhcmQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="AAPersistLoginServProvCode" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RkxBR1NUQUZG</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LoginServProvCode4MultiAgency" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>RkxBR1NUQUZG</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="LoginUsername4MultiAgency" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTc5REQxM0ExODYwMjhGNA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSignoff" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvc2VjdXJpdHkvc2lnbm91dC5kbyI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ACSwitchAgency" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Imh0dHBzOi8vYWEtcHQ2MjQ1LmRldi5hY2NlbGEuY29tOjU0NDMvcG9ydGxldHMvY29tbW9ucy9zc28vYmxhbmsuanNwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QXBhY2hlLUNveW90ZS8xLjE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJpdmF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBVVEM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFTVEVTVF9SRVFVRVNUX1RJTUU9MTUwMzk0NDg0NjU2MDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IERvbWFpbj1kZXYuYWNjZWxhLmNvbTsgUGF0aD0vOyBTZWN1cmU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Set-Cookie" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TEFURVNUX1NFU1NJT05fSUQ9NDBrb0RTeis0cDJkLW9acXpJc2RLUCswOyBEb21haW49ZGV2LmFjY2VsYS5jb207IFBhdGg9LzsgU2VjdXJl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMjgzMjQtMTQ5ODc0NzEzNjAwMCI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAyOSBKdW4gMjAxNyAxNDozODo1NiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyOCBBdWcgMjAxNyAxODoyNzoyNSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEFwYWNoZS1Db3lvdGUvMS4xDQpDYWNoZS1Db250cm9sOiBwcml2YXRlDQpFeHBpcmVzOiBUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQw0KWC1YU1MtUHJvdGVjdGlvbjogMA0KU2V0LUNvb2tpZTogTEFTVEVTVF9SRVFVRVNUX1RJTUU9MTUwMzk0NDg0NjU2MDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ0KU2V0LUNvb2tpZTogTEFURVNUX1dFQl9TRVJWRVI9MTAuMS4wLjY7IERvbWFpbj1kZXYuYWNjZWxhLmNvbTsgUGF0aD0vOyBTZWN1cmUNClNldC1Db29raWU6IExBVEVTVF9TRVNTSU9OX0lEPTQwa29EU3orNHAyZC1vWnF6SXNkS1ArMDsgRG9tYWluPWRldi5hY2NlbGEuY29tOyBQYXRoPS87IFNlY3VyZQ0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkVUYWc6IFcvIjI4MzI0LTE0OTg3NDcxMzYwMDAiDQpMYXN0LU1vZGlmaWVkOiBUaHUsIDI5IEp1biAyMDE3IDE0OjM4OjU2IEdNVA0KQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQNClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNCkRhdGU6IE1vbiwgMjggQXVnIDIwMTcgMTg6Mjc6MjUgR01UDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyoqDQogKiBBY2NlbGEgQXV0b21hdGlvbg0KICogRmlsZTogYWpheEFueVdoZXJlLmpzDQogKiBBY2NlbGEsIEluYy4NCiAqIENvcHlyaWdodCAoQyk6IDIwMDUtMjAxNA0KICoNCiAqDQogKiBDb3B5cmlnaHQgMjAwNSAgVml0YWxpeSBTaGV2Y2h1ayAoc2hldml0QHVzZXJzLnNvdXJjZWZvcmdlLm5ldCkNCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsNCiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqDQogKi8NCmRvY3VtZW50LndyaXRlKCI8c2NyaXB0IHNyYz0nL3BvcnRsZXRzL2ZyYW1ld29yay9pbmNsdWRlcy9qYXZhc2NyaXB0L0kxOE4uanMnPjwvc2NyaXB0PiIpOw0KQWpheEFueXdoZXJlLmRlZmF1bHRJbnN0YW5jZU5hbWUgPSAiZGVmYXVsdCI7DQoNCi8vIGNvbnN0cnVjdG9yOw0KZnVuY3Rpb24gQWpheEFueXdoZXJlKCkgew0KDQogICAgdGhpcy5pZCA9IEFqYXhBbnl3aGVyZS5kZWZhdWx0SW5zdGFuY2VOYW1lOw0KICAgIHRoaXMuZm9ybU5hbWUgPSBudWxsOw0KICAgIHRoaXMubm90U3VwcG9ydGVkID0gZmFsc2U7DQogICAgdGhpcy5kZWxheUJlZm9yZUNvbnRlbnRVcGRhdGUgPSB0cnVlOw0KICAgIHRoaXMuZGVsYXlJbk1pbGxpcyA9IDEwMDsNCg0KICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHsNCiAgICAgICAgdGhpcy5yZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICB9IGVsc2UgaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICB0aGlzLnJlcSA9IG5ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpOw0KICAgICAgICB9IGNhdGNoKGUpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZXEgPSBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTsNCiAgICAgICAgICAgIH0gY2F0Y2goZTEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5vdFN1cHBvcnRlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgLyogWE1MSFRUUFJlcXVlc3Qgbm90IHN1cHBvcnRlZCAqLw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgaWYgKHRoaXMucmVxID09IG51bGwgfHwgdHlwZW9mIHRoaXMucmVxID09ICJ1bmRlZmluZWQiKQ0KICAgICAgICB0aGlzLm5vdFN1cHBvcnRlZCA9IHRydWU7DQp9DQoNCi8qKg0KKiBTdG9yZXMgc3Vic3RpdHV0ZXMgU3VibWl0QnV0dG9uIG5hbWVzIGluIHRvIHJlZG8gc3VzdGl0dXRpb24gaWYgYSBidXR0b24gd2FzIGV2ZW50dWFsbHkgaW5zaWRlIGEgcmVmcmVzaCB6b25lLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuc3Vic3RpdHV0ZWRTdWJtaXRCdXR0b25zID0gbmV3IEFycmF5KCk7DQpBamF4QW55d2hlcmUucHJvdG90eXBlLnN1YnN0aXR1dGVkU3VibWl0QnV0dG9uc0luZm8gPSBuZXcgT2JqZWN0KCk7DQoNCi8qKg0KKiBSZXR1cm5zIGEgRm9ybSBvYmplY3QgdGhhdCBjb3JyZXNwb25kcyB0byBmb3JtTmFtZSBwcm9wZXJ0eSBvZiB0aGlzIEFqYXhBbnl3aGVyZSBjbGFzcyBpbnN0YW5jZS4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLmZpbmRGb3JtID0gZnVuY3Rpb24gKCkgew0KICAgIHZhciBmb3JtOw0KICAgIGlmICh0aGlzLmZvcm1OYW1lICE9IG51bGwpDQogICAgICAgIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t0aGlzLmZvcm1OYW1lXTsNCiAgICBlbHNlIGlmIChkb2N1bWVudC5mb3Jtcy5sZW5ndGggPiAwKQ0KICAgICAgICBmb3JtID0gZG9jdW1lbnQuZm9ybXNbMF07DQoNCiAgICBpZiAodHlwZW9mIGZvcm0gIT0gIm9iamVjdCIpDQogICAgICAgIGFsZXJ0KGdldFRleHRMYWJsZWJ5QXJnKCJlcnJvci5qcy5hamF4QW55V2hlcmUuZm9ybU5vdEZvdW5kIiwgbmV3IEFycmF5KHRoaXMuZm9ybU5hbWUpKSk7DQogICAgcmV0dXJuIGZvcm07DQp9DQoNCg0KLyoqDQoqIEJpbmRzIHRoaXMgaW5zdGFuY2UgdG8gd2luZG93IG9iamVjdCB1c2luZyAiQWpheEFueXdoZXJlLiIrdGhpcy5pZCBhcyBhIGtleS4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLmJpbmRCeUlkID0gZnVuY3Rpb24gKCkgew0KICAgIHZhciBrZXkgPSAiQWpheEFueXdoZXJlLiIgKyB0aGlzLmlkOw0KICAgIHdpbmRvd1trZXldID0gdGhpczsNCn0NCg0KLyoqDQoqIEZpbmRzIGFuIGluc3RhbmNlIGJ5IGlkLg0KKi8NCkFqYXhBbnl3aGVyZS5maW5kSW5zdGFuY2UgPSBmdW5jdGlvbihpZCkgew0KICAgIHZhciBrZXkgPSAiQWpheEFueXdoZXJlLiIgKyBpZDsNCiAgICByZXR1cm4gd2luZG93W2tleV07DQp9DQoNCi8qKg0KKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc3VibWl0IGFsbCBmb3JtIGZpZWxkcyBieSBBSkFYIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4NCiogSWYgdGhlIGZvcm0gaXMgc3VibWl0ZWQgd2l0aCAmbHQ7aW5wdXQgdHlwZT1zdWJtaXR8aW1hZ2UmZ3Q7LCBzdWJtaXRCdXR0b24gc2hvdWxkIGJlIGEgcmVmZXJlbmNlIHRvIHRoZSBESFRNTCBvYmplY3QuIE90aGVyd2lzZSAtIHVuZGVmaW5lZC4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnN1Ym1pdEFKQVggPSBmdW5jdGlvbihhZGRpdGlvbmFsUG9zdERhdGEsIHN1Ym1pdEJ1dHRvbikgew0KCQ0KICAgIGlmICh0aGlzLm5vdFN1cHBvcnRlZCkNCiAgICAgICAgcmV0dXJuIHRoaXMub25TdWJtaXRBamF4Tm90U3VwcG9ydGVkKGFkZGl0aW9uYWxQb3N0RGF0YSwgc3VibWl0QnV0dG9uKTsNCg0KICAgIGlmIChhZGRpdGlvbmFsUG9zdERhdGEgPT0gbnVsbCB8fCB0eXBlb2YgYWRkaXRpb25hbFBvc3REYXRhID09ICJ1bmRlZmluZWQiKQ0KICAgICAgICBhZGRpdGlvbmFsUG9zdERhdGEgPSAiIjsNCg0KICAgIHRoaXMuYmluZEJ5SWQoKTsNCg0KICAgIHZhciBmb3JtID0gdGhpcy5maW5kRm9ybSgpOw0KDQogICAgdmFyIGFjdGlvbkF0dHJOb2RlID0gZm9ybS5hdHRyaWJ1dGVzWyJhY3Rpb24iXTsNCiAgICB2YXIgdXJsID0gYWN0aW9uQXR0ck5vZGUgPT0gbnVsbD9udWxsOmFjdGlvbkF0dHJOb2RlLm5vZGVWYWx1ZTsNCiAgICBpZiAoKHVybCA9PSBudWxsKSB8fCAodXJsID09ICIiKSkNCiAgICAgICAgdXJsID0gbG9jYXRpb24uaHJlZjsNCg0KICAgIHZhciBwb3MgPSB1cmwuaW5kZXhPZigiIyIpOw0KICAgICAgICBpZiAocG9zIT0tMSkNCiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCxwb3MpOw0KICAgICAgICBpZiAoKHVybCA9PSBudWxsKSB8fCAodXJsID09ICIiKSkNCiAgICAgICAgICAgIHVybCA9IGxvY2F0aW9uLmhyZWY7DQogICAgICAgIHBvcyA9IHVybC5pbmRleE9mKCIjIik7DQogICAgICAgIGlmIChwb3MhPS0xKQ0KICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLHBvcyk7DQoNCiAgICB2YXIgem9uZXMgPSB0aGlzLmdldFpvbmVzVG9SZWxvYWQodXJsLCBzdWJtaXRCdXR0b24pOw0KDQogICAgaWYgKHpvbmVzID09IG51bGwpIHsNCiAgICAgICAgLy8gc3VibWl0IGluIHRyYWRpZGl0aW9uYWwgd2F5IDoNCiAgICAgICAgdGhpcy5zdWJtaXRPbGQoZm9ybSxzdWJtaXRCdXR0b24pDQogICAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICB0aGlzLmRyb3BQcmV2aW91c1JlcXVlc3QoKTsNCg0KICAgIHRoaXMucmVxLm9wZW4oIlBPU1QiLCB1cmwsIHRydWUpOw0KICAgIHRoaXMucmVxLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsNCiAgICB0aGlzLnJlcS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLCAidGV4dC94bWwiKTsNCg0KICAgIHZhciBwb3N0RGF0YSA9IHRoaXMucHJlcGFyZVBvc3REYXRhKHN1Ym1pdEJ1dHRvbik7DQoNCiAgICBpZiAoem9uZXMgIT0gIiIpDQogICAgICAgIHBvc3REYXRhID0gJyZhYXpvbmVzPScgKyBlbmNvZGVVUklDb21wb25lbnQoem9uZXMpICsgIiYiICsgcG9zdERhdGEgKyAiJiIgKyBhZGRpdGlvbmFsUG9zdERhdGE7DQogICAgZWxzZQ0KICAgICAgICBwb3N0RGF0YSArPSAiJiIgKyBhZGRpdGlvbmFsUG9zdERhdGE7DQoNCiAgICB0aGlzLnNlbmRQcmVwYXJlZFJlcXVlc3QocG9zdERhdGEpOw0KICAgIHNjcm9sbEJhcklzc3VlLmF1dG9BZGp1c3RPdXRlckNvbnRhaW5lcigpOw0KfQ0KLyoqDQoqIHNlbmRzIGEgR0VUIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLmdldEFKQVggPSBmdW5jdGlvbih1cmwsIHpvbmVzVG9SZWZyZXNoKSB7DQogICAgaWYgKHRoaXMubm90U3VwcG9ydGVkKQ0KICAgICAgICByZXR1cm4gdGhpcy5vbkdldEFqYXhOb3RTdXBwb3J0ZWQodXJsKTsNCg0KICAgIHRoaXMuYmluZEJ5SWQoKTsNCg0KICAgIGlmICh6b25lc1RvUmVmcmVzaCA9PSBudWxsIHx8IHR5cGVvZiB6b25lc1RvUmVmcmVzaCA9PSAidW5kZWZpbmVkIikNCiAgICAgICAgem9uZXNUb1JlZnJlc2ggPSAiIjsNCiAgICB2YXIgdXJsRGVwZW5kZW50Wm9uZXMgPSB0aGlzLmdldFpvbmVzVG9SZWxvYWQodXJsKTsNCiAgICBpZiAodXJsRGVwZW5kZW50Wm9uZXMgPT0gbnVsbCkgew0KICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgaWYgKHVybERlcGVuZGVudFpvbmVzLmxlbmd0aCAhPSAwKQ0KICAgICAgICB6b25lc1RvUmVmcmVzaCArPSAiLCIgKyB1cmxEZXBlbmRlbnRab25lczsNCg0KICAgIHRoaXMuZHJvcFByZXZpb3VzUmVxdWVzdCgpOw0KDQogICAgdXJsICs9ICh1cmwuaW5kZXhPZigiPyIpICE9IC0xKSA/ICImIiA6ICI/IjsNCg0KICAgIHVybCArPSAiYWF4bWxyZXF1ZXN0PXRydWUmYWFfcmFuZD0iICsgTWF0aC5yYW5kb20oKTsNCiAgICAvLyBhdm9pZCBjYWNoaW5nDQoNCiAgICBpZiAoem9uZXNUb1JlZnJlc2ggIT0gbnVsbCAmJiB6b25lc1RvUmVmcmVzaCAhPSAiIikNCiAgICAgICAgdXJsICs9ICcmYWF6b25lcz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHpvbmVzVG9SZWZyZXNoKTsNCiAgICB2YXIgaXNBc3luY2hyb25pemVkID0gdHJ1ZTsNCiAgICBpZiAodXJsLmluZGV4T2YoInN0YXRlUHJvcGVydHk9IikgPiAtMSkNCiAgICB7DQogICAgCWlzQXN5bmNocm9uaXplZCA9IGZhbHNlOw0KICAgIH0NCiAgICB0aGlzLnJlcS5vcGVuKCJHRVQiLCB1cmwsIGlzQXN5bmNocm9uaXplZCk7DQogICAgdGhpcy5yZXEuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwgInRleHQveG1sIik7DQoNCiAgICB0aGlzLnNlbmRQcmVwYXJlZFJlcXVlc3QoIiIpOw0KfQ0KDQovKioNCiogQHByaXZhdGUNCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnNlbmRQcmVwYXJlZFJlcXVlc3QgPSBmdW5jdGlvbiAocG9zdERhdGEpIHsNCiAgICB2YXIgY2FsbGJhY2tLZXkgPSB0aGlzLmlkICsgIl9jYWxsYmFja0Z1bmN0aW9uIjsNCiAgICBpZiAodHlwZW9mIHdpbmRvd1tjYWxsYmFja0tleV0gPT0gInVuZGVmaW5lZCIpDQogICAgICAgIHdpbmRvd1tjYWxsYmFja0tleV0gPSBuZXcgRnVuY3Rpb24oIkFqYXhBbnl3aGVyZS5maW5kSW5zdGFuY2UoXCIiICsgdGhpcy5pZCArICJcIikuY2FsbGJhY2soKTsgIik7DQogICAgdGhpcy5yZXEub25yZWFkeXN0YXRlY2hhbmdlID0gd2luZG93W2NhbGxiYWNrS2V5XTsNCg0KICAgIHRoaXMuaGlkZUxvYWRpbmdNZXNzYWdlKCk7DQoNCiAgICB0aGlzLnJlcS5zZW5kKHBvc3REYXRhKTsNCn0NCi8qKg0KKiBVc2VkIGludGVybmFsbHkgYnkgQWpheEFueXdoZXJlLiBBYm9ydHMgcHJldmlvdXMgcmVxdWVzdCBpZiBub3QgY29tcGxldGVkLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuZHJvcFByZXZpb3VzUmVxdWVzdCA9IGZ1bmN0aW9uKCkgew0KICAgIGlmICh0aGlzLnJlcS5yZWFkeVN0YXRlICE9IDAgJiYgdGhpcy5yZXEucmVhZHlTdGF0ZSAhPSA0KSB7DQogICAgICAgIC8vIGFib3J0IHByZXZpb3VzIHJlcXVlc3QgaWYgbm90IGNvbXBsZXRlZA0KICAgICAgICB0aGlzLnJlcS5hYm9ydCgpOw0KICAgICAgICB0aGlzLmhhbmRsZVByZXZvdXNSZXF1ZXN0QWJvcnRlZCgpOw0KICAgIH0NCn0NCg0KLyoqDQoqIEludGVybmFsbHkgdXNlZCB0byBwcmVwYXJlIFBvc3QgZGF0YS4NCiogSWYgdGhlIGZvcm0gaXMgc3VibWl0ZWQgd2l0aCAmbHQ7aW5wdXQgdHlwZT1zdWJtaXR8aW1hZ2UmZ3Q7LCBzdWJtaXRCdXR0b24gaXMgYSByZWZlcmVuY2UgdG8gdGhlIERIVE1MIG9iamVjdC4gT3RoZXJ3aXNlIC0gdW5kZWZpbmVkLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUucHJlcGFyZVBvc3REYXRhID0gZnVuY3Rpb24oc3VibWl0QnV0dG9uKSB7DQogICAgdmFyIGZvcm0gPSB0aGlzLmZpbmRGb3JtKCk7DQogICAgdmFyIHJlc3VsdCA9ICImYWF4bWxyZXF1ZXN0PXRydWUiOw0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5lbGVtZW50cy5sZW5ndGg7IGkrKykgew0KICAgICAgICB2YXIgZWwgPSBmb3JtLmVsZW1lbnRzW2ldOw0KICAgICAgICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICJzZWxlY3QiKSB7DQogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsLm9wdGlvbnMubGVuZ3RoOyBqKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgb3AgPSBlbC5vcHRpb25zW2pdOw0KICAgICAgICAgICAgICAgIGlmIChvcC5zZWxlY3RlZCkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICImIiArIGVuY29kZVVSSUNvbXBvbmVudChlbC5uYW1lKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChvcC52YWx1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICJ0ZXh0YXJlYSIpIHsNCiAgICAgICAgICAgIHJlc3VsdCArPSAiJiIgKyBlbmNvZGVVUklDb21wb25lbnQoZWwubmFtZSkgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZWwudmFsdWUpOw0KICAgICAgICB9IGVsc2UgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAiaW5wdXQiKSB7DQogICAgICAgICAgICBpZiAoZWwudHlwZS50b0xvd2VyQ2FzZSgpID09ICJjaGVja2JveCIgfHwgZWwudHlwZS50b0xvd2VyQ2FzZSgpID09ICJyYWRpbyIpIHsNCiAgICAgICAgICAgICAgICBpZiAoZWwuY2hlY2tlZCkNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICImIiArIGVuY29kZVVSSUNvbXBvbmVudChlbC5uYW1lKSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChlbC52YWx1ZSk7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGVsLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAic3VibWl0Iikgew0KICAgICAgICAgICAgICAgIGlmIChlbCA9PSBzdWJtaXRCdXR0b24pIC8vIGlzICJlbCIgdGhlIHN1Ym1pdCBidXR0b24gdGhhdCBmaXJlZCB0aGUgZm9ybSBzdWJtaXQ/DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAiJiIgKyBlbmNvZGVVUklDb21wb25lbnQoZWwubmFtZSkgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZWwudmFsdWUpOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbC50eXBlLnRvTG93ZXJDYXNlKCkgIT0gImJ1dHRvbiIpIHsNCiAgICAgICAgICAgICAgICByZXN1bHQgKz0gIiYiICsgZW5jb2RlVVJJQ29tcG9uZW50KGVsLm5hbWUpICsgIj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KGVsLnZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAodHlwZW9mIHN1Ym1pdEJ1dHRvbiAhPSAndW5kZWZpbmVkJyAmJiBzdWJtaXRCdXR0b24gIT0gbnVsbCAmJiBzdWJtaXRCdXR0b24udHlwZS50b0xvd2VyQ2FzZSgpID09ICJpbWFnZSIpIHsNCiAgICAgICAgaWYgKHN1Ym1pdEJ1dHRvbi5uYW1lID09IG51bGwgfHwgc3VibWl0QnV0dG9uLm5hbWUgPT0gIiIgfHwgdHlwZW9mIHN1Ym1pdEJ1dHRvbi5uYW1lID09ICJ1bmRlZmluZWQiKQ0KICAgICAgICAgICAgcmVzdWx0ICs9ICImeD0xJnk9MSI7IC8vIC54IGFuZCAueSBjb29yZGluYXRlcyBjYWxjdWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkLg0KICAgICAgICBlbHNlDQogICAgICAgICAgICByZXN1bHQgKz0gIiYiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN1Ym1pdEJ1dHRvbi5uYW1lKSArICIueD0xJiIgKw0KICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdWJtaXRCdXR0b24ubmFtZSkgKyAiLnk9MSI7DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQp9DQoNCi8qKg0KKiBQYXVzZXMgdGhlIHRocmVhZCBvZiBleGVjdXRpb24gZm9yIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcw0KKiBAcHJpdmF0ZQ0KKi8NCmZ1bmN0aW9uIGRlbGF5KG1pbGxpcykgew0KICAgIGRhdGUgPSBuZXcgRGF0ZSgpOw0KICAgIHZhciBjdXJEYXRlID0gbnVsbDsNCiAgICBkbyB7DQogICAgICAgIGN1ckRhdGUgPSBuZXcgRGF0ZSgpOw0KICAgIH0NCiAgICB3aGlsZSAoY3VyRGF0ZSAtIGRhdGUgPCBtaWxsaXMpOw0KfQ0KDQovKioNCiogQSBjYWxsYmFjay4gaW50ZXJuYWxseSB1c2VkDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKCkgew0KICAgIGlmICh0aGlzLnJlcS5yZWFkeVN0YXRlID09IDQpIHsNCg0KICAgICAgICB0aGlzLm9uQmVmb3JlUmVzcG9uc2VQcm9jZXNzaW5nKCk7DQogICAgICAgIHRoaXMuaGlkZUxvYWRpbmdNZXNzYWdlKCk7DQoNCiAgICAgICAgaWYgKHRoaXMucmVxLnN0YXR1cyA9PSAyMDApIHsNCg0KICAgICAgICAgICAgaWYgKHRoaXMucmVxLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLCA4KSAhPSAndGV4dC94bWwnKQ0KICAgICAgICAgICAgICAgIGFsZXJ0KGdldFRleHRMYWJsZWJ5QXJnKCJlcnJvci5qcy5hamF4QW55V2hlcmUuY29udGVudFR5cGUiLCBuZXcgQXJyYXkodGhpcy5yZXEuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpKSkpOw0KDQogICAgICAgICAgICB2YXIgZG9jcyA9IHRoaXMucmVxLnJlc3BvbnNlWE1MLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkb2N1bWVudCIpOw0KICAgICAgICAgICAgdmFyIHJlZGlyZWN0cyA9IHRoaXMucmVxLnJlc3BvbnNlWE1MLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJyZWRpcmVjdCIpOw0KICAgICAgICAgICAgdmFyIHpvbmVzID0gdGhpcy5yZXEucmVzcG9uc2VYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInpvbmUiKTsNCiAgICAgICAgICAgIHZhciBleGNlcHRpb25zID0gdGhpcy5yZXEucmVzcG9uc2VYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImV4Y2VwdGlvbiIpOw0KICAgICAgICAgICAgdmFyIHNjcmlwdHMgPSB0aGlzLnJlcS5yZXNwb25zZVhNTC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7DQogICAgICAgICAgICB2YXIgaW1hZ2VzID0gdGhpcy5yZXEucmVzcG9uc2VYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltYWdlIik7DQoNCiAgICAgICAgICAgIGlmIChyZWRpcmVjdHMubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgbmV3VVJMID0gcmVkaXJlY3RzWzBdLmZpcnN0Q2hpbGQuZGF0YTsNCiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gbmV3VVJMOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGRvY3MubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgbmV3Q29udGVudCA9IGRvY3NbMF0uZmlyc3RDaGlsZC5kYXRhOw0KDQogICAgICAgICAgICAgICAgLy9jbGVhbnVwIHJlc3NvdXJjZXMNCiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZXE7DQoNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5jbG9zZSgpOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LndyaXRlKG5ld0NvbnRlbnQpOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmNsb3NlKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpbWFnZXMubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICB2YXIgcHJlTG9hZCA9IG5ldyBBcnJheShpbWFnZXMubGVuZ3RoKTsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gaW1hZ2VzW2ldLmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgICAgIGlmIChpbWcgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlTG9hZFtpXSA9IG5ldyBJbWFnZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlTG9hZFtpXS5zcmMgPSBpbWcuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxheUJlZm9yZUNvbnRlbnRVcGRhdGUpIHsNCiAgICAgICAgICAgICAgICAgICAgZGVsYXkodGhpcy5kZWxheUluTWlsbGlzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh6b25lcy5sZW5ndGggIT0gMCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgem9uZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHpvbmVOb2RlID0gem9uZXNbaV07DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB6b25lTm9kZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gem9uZU5vZGUuZ2V0QXR0cmlidXRlKCJpZCIpOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY2hpbGRJbmRleCA9IDA7IGNoaWxkSW5kZXggPCB6b25lTm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IHpvbmVOb2RlLmNoaWxkTm9kZXNbY2hpbGRJbmRleF0uZGF0YQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIHpvbmVIb2xkZXIgPSBuYW1lIT1udWxsPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhYXpvbmUuIiArIG5hbWUpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoem9uZUhvbGRlciAhPSBudWxsICYmIHR5cGVvZih6b25lSG9sZGVyKSAhPSAidW5kZWZpbmVkIikgew0KCSAgICAgICAgICAgICAgICAgICAgLy9maXggYnVnIDMzMjkzLiBsb3N0IGV2ZW50IGFmdGVyIHNldCBpbm5lckhUTUwNCgkgICAgICAgICAgICAgICAgCXZhciBvbGRldnQ9IG51bGw7IA0KCSAgICAgICAgICAgICAgICAJaWYoem9uZUhvbGRlci5maXJzdENoaWxkIT0gbnVsbCkNCgkgICAgICAgICAgICAgICAgCXsNCgkJICAgICAgICAgICAgICAgIAlvbGRldnQ9IHpvbmVIb2xkZXIuZmlyc3RDaGlsZC5vbmNoYW5nZTsNCgkJICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgCQ0KICAgICAgICAgICAgICAgICAgICAgICAgem9uZUhvbGRlci5pbm5lckhUTUwgPSBodG1sOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHlPYmoucmVzZXRSZWFkT25seShyZWFkT25seU9iai5nZXRSZXNldE9ianMoem9uZUhvbGRlcikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYob2xkZXZ0IT1udWxsICYmIHpvbmVIb2xkZXIuZmlyc3RDaGlsZCE9bnVsbCApDQogICAgICAgICAgICAgICAgICAgICAgICB7DQoJCQkJCQkJdHJ5ewkJICAgICAgICAgICAgICAgICAgICAgICAgDQoJCQkJCQkJCXpvbmVIb2xkZXIuZmlyc3RDaGlsZC5vbmNoYW5nZT1vbGRldnQ7DQoJCQkJCQkJfWNhdGNoKGVycm9yKQ0KCQkJCQkJCXsNCgkJCQkJCQl9DQoJICAgICAgICAgICAgICAgCQkgfSAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucmVmcmVzaEFsbFdhdGVybWFya3MpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAJd2luZG93LnJlZnJlc2hBbGxXYXRlcm1hcmtzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChleGNlcHRpb25zLmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgICAgICAgdmFyIGUgPSBleGNlcHRpb25zWzBdOw0KICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKTsNCiAgICAgICAgICAgICAgICB2YXIgc3RhY2tUcmFjZSA9IGUuZmlyc3RDaGlsZC5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXhjZXB0aW9uKHR5cGUsIHN0YWNrVHJhY2UpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoc2NyaXB0cy5sZW5ndGggIT0gMCkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyICQkJCRpID0gMDsgJCQkJGkgPCBzY3JpcHRzLmxlbmd0aDsgJCQkJGkrKykgew0KICAgICAgICAgICAgICAgICAgICAvLyB1c2UgJCQkJGkgdmFyaWFibGUgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggImkiIGluc2lkZSB1c2VyIHNjcmlwdA0KICAgICAgICAgICAgICAgICAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1skJCQkaV0uZmlyc3RDaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcmlwdCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQgPSBzY3JpcHQuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHQuaW5kZXhPZigiZG9jdW1lbnQud3JpdGUiKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXhjZXB0aW9uKCJkb2N1bWVudC53cml0ZSIsICJUaGlzIHNjcmlwdCBjb250YWlucyBkb2N1bWVudC53cml0ZSgpLCB3aGljaCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIEFqYXhBbnl3aGVyZSA6IFxuXG4iICsgc2NyaXB0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsKCJ2YXIgYWFJbnN0YW5jZUlkID0gXCIiK3RoaXMuaWQrIlwiOyBcbiIrc2NyaXB0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHZhciBnbG9iYWxzID0gdGhpcy5nZXRHbG9iYWxTY3JpcHRzRGVjbGFyYXRpb25zTGlzdChzY3JpcHQpOw0KICAgICAgICAgICAgICAgIGlmIChnbG9iYWxzICE9IG51bGwpDQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZ2xvYmFscykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iak5hbWUgPSBnbG9iYWxzW2ldOw0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dbb2JqTmFtZV0gPSBldmFsKG9iak5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKHRoaXMucmVxLnN0YXR1cyAhPSAwKQ0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlSHR0cEVycm9yQ29kZSh0aGlzLnJlcS5zdGF0dXMpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMucmVzdG9yZVN1YnN0aXR1dGVkU3VibWl0QnV0dG9ucygpOw0KICAgICAgICB0aGlzLm9uQWZ0ZXJSZXNwb25zZVByb2Nlc3NpbmcoKTsNCg0KICAgIH0NCiAgICBzY3JvbGxCYXJJc3N1ZS5hdXRvQWRqdXN0T3V0ZXJDb250YWluZXIoKTsNCn0NCg0KLyoqDQoqICBEZWZhdWx0IHNhbXBsZSBsb2FkaW5nIG1lc3NhZ2Ugc2hvdyBmdW5jdGlvbi4gT3ZlcnJyaWRlIGl0IGlmIHlvdSBsaWtlLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuc2hvd0xvYWRpbmdNZXNzYWdlID0gZnVuY3Rpb24oKSB7DQoNCiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFBXyIgKyB0aGlzLmlkICsgIl9sb2FkaW5nX2RpdiIpOw0KICAgIGlmIChkaXYgPT0gbnVsbCkgew0KICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKTsNCg0KICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7DQogICAgICAgIGRpdi5pZCA9ICJBQV8iICsgdGhpcy5pZCArICJfbG9hZGluZ19kaXYiOw0KDQogICAgICAgIGRpdi5pbm5lckhUTUwgPSAiJm5ic3A7TG9hZGluZy4uLiI7DQogICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7DQogICAgICAgIGRpdi5zdHlsZS5ib3JkZXIgPSAiMSBzb2xpZCBibGFjayI7DQogICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICJ3aGl0ZSI7DQogICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmx1ZSI7DQogICAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICIxMDBweCI7DQogICAgICAgIGRpdi5zdHlsZS5oZWlndGggPSAiNTBweCI7DQogICAgICAgIGRpdi5zdHlsZS5mb250RmFtaWx5ID0gIkFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYiOw0KICAgICAgICBkaXYuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsNCiAgICAgICAgZGl2LnN0eWxlLmZvbnRTaXplID0gIjExcHgiOw0KICAgIH0NCiAgICBkaXYuc3R5bGUudG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyAicHgiOw0KICAgIGRpdi5zdHlsZS5sZWZ0ID0gKGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSAxMDAgLSAoKCJBY3RpdmVYT2JqZWN0IiBpbiB3aW5kb3cpPzIwOjApKSArICJweCI7DQoNCiAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICIiOw0KfQ0KDQovKioNCiogIERlZmF1bHQgc2FtcGxlIGxvYWRpbmcgbWVzc2FnZSBoaWRlIGZ1bmN0aW9uLiBPdmVycnJpZGUgaXQgaWYgeW91IGxpa2UuDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5oaWRlTG9hZGluZ01lc3NhZ2UgPSBmdW5jdGlvbigpIHsNCiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFBXyIgKyB0aGlzLmlkICsgIl9sb2FkaW5nX2RpdiIpOw0KICAgIGlmIChkaXYgIT0gbnVsbCkNCiAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoNCn0NCg0KLyoqDQoqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmYWNpbGl0YXR0ZSBBamF4QW55d2hlcmUgaW50ZWdyYXRpb24gd2l0aCBleGlzdGluZyBwcm9qZWN0cy9mcmFtZXdvcmtzLg0KKiBJdCBzdWJzdGl0dXRlcyBkZWZhdWx0IEZvcm0uc3VtYml0KCkuDQoqIFRoZSBuZXcgaW1wbGVtZW50YXRpb24gY2FsbHMgQWpheEFueXdoZXJlLmlzRm9ybVN1Ym1pdEJ5QWpheCgpIGZ1bmN0aW9uIHRvIGZpbmQgb3V0IGlmIHRoZSBmb3JtDQoqIHNob3VsZCBiZSBzdWJtaXR0ZWQgaW4gdHJhZGl0aW9uYWwgd2F5IG9yIGJ5IEFqYXhBbnl3aGVyZS4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnN1YnN0aXR1dGVGb3JtU3VibWl0RnVuY3Rpb24gPSBmdW5jdGlvbigpIHsNCiAgICBpZiAodGhpcy5ub3RTdXBwb3J0ZWQpDQogICAgICAgIHJldHVybjsNCg0KICAgIHRoaXMuYmluZEJ5SWQoKTsNCg0KICAgIHZhciBmb3JtID0gdGhpcy5maW5kRm9ybSgpOw0KDQogICAgZm9ybS5zdWJtaXRfb2xkID0gZm9ybS5zdWJtaXQ7DQogICAgdmFyIGNvZGUgPSAidmFyIGFqYXggPSBBamF4QW55d2hlcmUuZmluZEluc3RhbmNlKFwiIiArIHRoaXMuaWQgKyAiXCIpOyAiICsNCiAgICAgICAgICAgICAgICJpZiAodHlwZW9mIGFqYXggIT0nb2JqZWN0JyB8fCAhIGFqYXguaXNGb3JtU3VibWl0QnlBamF4KCkgKSAiICsNCiAgICAgICAgICAgICAgICJhamF4LmZpbmRGb3JtKCkuc3VibWl0X29sZCgpOyIgKw0KICAgICAgICAgICAgICAgIiBlbHNlICIgKw0KICAgICAgICAgICAgICAgImFqYXguc3VibWl0QUpBWCgpOyINCiAgICBmb3JtLnN1Ym1pdCA9IG5ldyBGdW5jdGlvbihjb2RlKTsNCg0KfQ0KLyoqDQoqIFN1YnN0aXR1dGVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mICZsdDtpbnB1dCB0eXBlPXN1Ym1pdHxpbWFnZSZndDsgdG8gc3VibWl0IHRoZSBmb3JtIHZpYSBBamF4QW55d2hlcmUuDQoqDQoqIEBwYXJhbSB7Ym9vbGVhbn0gaW5kaWNhdGVzIGlmIGV4aXN0aW5nIG9uQ2xpY2sgaGFuZGxlcnMgc2hvdWxkIGJlIHByZXNlcnZlZC4NCiogSWYga2VlcEV4aXN0aW5nT25DbGlja0hhbmRsZXI9PXRydWUsDQoqIEV4aXN0aW5nIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgZmlyc3QgaWYgaXQgcmV0dXJucyBmYWxzZSwgb3IgaWYgZXZlbnQucmV0dXJuVmFsdWU9PWZhbHNlLCBBamF4QW55d2hlcmUgd2lsbCBub3QNCiogY29udGludWUgZm9ybSBzdWJtaXNzaW9uLg0KKiBJZiBrZWVwRXhpc3RpbmdPbkNsaWNrSGFuZGxlcj09ZmFsc2Ugb3IgdW5kZWZpbmVzLCBleGlzdGluZyBvbkNsaWNrIGV2ZW50IGhhbmRsZXJzIHdpbGwgYmUgcmVwbGFjZWQuDQoqDQoqIEBwYXJhbSB7QXJyYXl9IGxpc3Qgb2Ygc3VibWl0QnV0dG9ucyBhbmQgc3VibWl0SW1hZ2VzIG5hbWVzLiBJZiB0aGUgcGFyYW1ldGVyIGlzIG9taXR0ZWQgb3IgdW5kZWZpbmVkLA0KKiBhbGwgZWxlbWVudHMgd2lsbCBiZSBwcm9jZXNzZWQNCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnN1YnN0aXR1dGVTdWJtaXRCdXR0b25zQmVoYXZpb3IgPSBmdW5jdGlvbiAoa2VlcEV4aXN0aW5nT25DbGlja0hhbmRsZXIsIGVsZW1lbnRzKSB7DQogICAgaWYgKHRoaXMubm90U3VwcG9ydGVkKQ0KICAgICAgICByZXR1cm47DQoNCiAgICB2YXIgZm9ybSA9IHRoaXMuZmluZEZvcm0oKTsNCiAgICBpZiAoZWxlbWVudHMgPT0gbnVsbCB8fCB0eXBlb2YgZWxlbWVudHMgPT0gInVuZGVmaW5lZCIpIHsgLy8gcHJvY2VzcyBhbGwgZWxlbWVudHMNCiAgICAgICAgZWxlbWVudHMgPSBuZXcgQXJyYXkoKTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBlbGVtZW50cy5wdXNoKGZvcm0uZWxlbWVudHNbaV0pOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGlucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRzW2ldOw0KICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgIT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQudHlwZSAhPSAidW5kZWZpbmVkIiAmJg0KICAgICAgICAgICAgICAgIGlucHV0LnR5cGUudG9Mb3dlckNhc2UoKSA9PSAiaW1hZ2UiICYmIGlucHV0LmZvcm0gPT0gZm9ybSkgew0KICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goaW5wdXQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGVsID0gZWxlbWVudHNbaV07DQogICAgICAgICAgICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICJpbnB1dCIgJiYgKGVsLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAic3VibWl0Ig0KICAgICAgICAgICAgICAgICAgICB8fCBlbC50eXBlLnRvTG93ZXJDYXNlKCkgPT0gImltYWdlIikpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnN1YnN0aXR1dGVTdWJtaXRCZWhhdmlvcihlbCwga2VlcEV4aXN0aW5nT25DbGlja0hhbmRsZXIpOw0KDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9IGVsc2UgeyAvL3Byb2Nlc3Mgb25seSBzcGVjaWZpZWQgZWxlbWVudHMNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGVsID0gZWxlbWVudHNbaV07DQogICAgICAgICAgICBpZiAoZWwgPT0gbnVsbCkNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCAhPSAib2JqZWN0IikNCiAgICAgICAgICAgICAgICBlbCA9IGZvcm0uZWxlbWVudHNbZWxdOw0KDQogICAgICAgICAgICBpZiAodHlwZW9mIGVsICE9ICJ1bmRlZmluZWQiKSB7DQogICAgICAgICAgICAgICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAiaW5wdXQiICYmIChlbC50eXBlLnRvTG93ZXJDYXNlKCkgPT0gInN1Ym1pdCINCiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGVsLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAiaW1hZ2UiKSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzdGl0dXRlU3VibWl0QmVoYXZpb3IoZWwsIGtlZXBFeGlzdGluZ09uQ2xpY2tIYW5kbGVyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KfQ0KLyoqDQoqIFBlcmZvcm1zIGEgc2luZ2xlIGVsZW1lbnQgYmVoYXZpb3Igc3Vic3RpdHV0aW9uDQoqDQoqIEBwcml2YXRlDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5zdWJzdGl0dXRlU3VibWl0QmVoYXZpb3IgPSBmdW5jdGlvbiAoZWwsIGtlZXBFeGlzdGluZ09uQ2xpY2tIYW5kbGVyKSB7DQoNCiAgICB2YXIgaW5MaXN0ID0gZmFsc2U7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0aXR1dGVkU3VibWl0QnV0dG9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICB2YXIgYnRuTmFtZSA9IHRoaXMuc3Vic3RpdHV0ZWRTdWJtaXRCdXR0b25zW2ldOw0KICAgICAgICBpZiAoYnRuTmFtZSA9PSBlbC5uYW1lKSB7DQogICAgICAgICAgICBpbkxpc3QgPSB0cnVlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKCFpbkxpc3QpDQogICAgICAgIHRoaXMuc3Vic3RpdHV0ZWRTdWJtaXRCdXR0b25zLnB1c2goZWwubmFtZSk7DQoNCiAgICB0aGlzLnN1YnN0aXR1dGVkU3VibWl0QnV0dG9uc0luZm9bZWwubmFtZV0gPSBrZWVwRXhpc3RpbmdPbkNsaWNrSGFuZGxlcjsNCg0KICAgIGlmIChrZWVwRXhpc3RpbmdPbkNsaWNrSGFuZGxlciAmJiAodHlwZW9mIGVsLm9uY2xpY2sgIT0gInVuZGVmaW5lZCIpICYmICggZWwub25jbGljayAhPSBudWxsKSAmJiAoIGVsLm9uY2xpY2sgIT0gIiIpKSB7DQogICAgICAgIGVsLkFBX29sZF9vbmNsaWNrID0gZWwub25jbGljazsNCiAgICB9DQoNCiAgICBlbC5vbmNsaWNrID0gaGFuZGxlU3VibWl0QnV0dG9uQ2xpY2s7DQogICAgZWwuYWpheEFueXdoZXJlSWQgPSB0aGlzLmlkOw0KfQ0KDQovKioNCioNCiogQHByaXZhdGUNCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnJlc3RvcmVTdWJzdGl0dXRlZFN1Ym1pdEJ1dHRvbnMgPSBmdW5jdGlvbigpIHsNCiAgICBpZiAodGhpcy5zdWJzdGl0dXRlZFN1Ym1pdEJ1dHRvbnMubGVuZ3RoID09IDApDQogICAgICAgIHJldHVybjsNCg0KICAgIHZhciBmb3JtID0gdGhpcy5maW5kRm9ybSgpOw0KDQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0aXR1dGVkU3VibWl0QnV0dG9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICB2YXIgbmFtZSA9IHRoaXMuc3Vic3RpdHV0ZWRTdWJtaXRCdXR0b25zW2ldOw0KICAgICAgICB2YXIgZWwgPSBmb3JtLmVsZW1lbnRzW25hbWVdOw0KICAgICAgICBpZiAoZWwgIT0gbnVsbCAmJiB0eXBlb2YgZWwgIT0gInVuZGVmaW5lZCIpIHsNCiAgICAgICAgICAgIGlmIChlbC5vbmNsaWNrICE9IGhhbmRsZVN1Ym1pdEJ1dHRvbkNsaWNrKSB7DQogICAgICAgICAgICAgICAgdmFyIGtlZXBFeGlzdGluZ09uQ2xpY2tIYW5kbGVyID0gdGhpcy5zdWJzdGl0dXRlZFN1Ym1pdEJ1dHRvbnNJbmZvW2VsLm5hbWVdOw0KICAgICAgICAgICAgICAgIHRoaXMuc3Vic3RpdHV0ZVN1Ym1pdEJlaGF2aW9yKGVsLCBrZWVwRXhpc3RpbmdPbkNsaWNrSGFuZGxlcik7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvL2lucHV0IHR5cGU9aW1hZ2UNCiAgICAgICAgICAgIGlmIChuYW1lICE9IG51bGwgJiYgdHlwZW9mIG5hbWUgIT0gInVuZGVmaW5lZCIgJiYgbmFtZS5sZW5ndGggIT0gMCkgew0KICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKG5hbWUpOw0KICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cyAhPSBudWxsKQ0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlbCA9IGVsZW1lbnRzW2pdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsICE9IG51bGwgJiYgdHlwZW9mIGVsICE9ICJ1bmRlZmluZWQiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAiaW5wdXQiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBlbC50eXBlICE9ICJ1bmRlZmluZWQiICYmIGVsLnR5cGUudG9Mb3dlckNhc2UoKSA9PSAiaW1hZ2UiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLm9uY2xpY2sgIT0gaGFuZGxlU3VibWl0QnV0dG9uQ2xpY2spIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtlZXBFeGlzdGluZ09uQ2xpY2tIYW5kbGVyID0gdGhpcy5zdWJzdGl0dXRlZFN1Ym1pdEJ1dHRvbnNJbmZvW2VsLm5hbWVdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnN0aXR1dGVTdWJtaXRCZWhhdmlvcihlbCwga2VlcEV4aXN0aW5nT25DbGlja0hhbmRsZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQovKioNCiogQHByaXZhdGUNCiovDQpmdW5jdGlvbiBoYW5kbGVTdWJtaXRCdXR0b25DbGljayhfZXZlbnQpIHsNCg0KICAgIGlmICh0eXBlb2YgdGhpcy5BQV9vbGRfb25jbGljayAhPSAidW5kZWZpbmVkIikgew0KICAgICAgICBpZiAoZmFsc2UgPT0gdGhpcy5BQV9vbGRfb25jbGljayhfZXZlbnQpKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5ldmVudCAhPSAidW5kZWZpbmVkIikNCiAgICAgICAgICAgIGlmICh3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWUgPT0gZmFsc2UpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICB2YXIgb25zdWJtaXQgPSB0aGlzLmZvcm0ub25zdWJtaXQ7DQogICAgaWYgKHR5cGVvZiBvbnN1Ym1pdCA9PSAiZnVuY3Rpb24iKSB7DQogICAgICAgIGlmIChmYWxzZSA9PSBvbnN1Ym1pdChfZXZlbnQpKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5ldmVudCAhPSAidW5kZWZpbmVkIikNCiAgICAgICAgICAgIGlmICh3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWUgPT0gZmFsc2UpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBBamF4QW55d2hlcmUuZmluZEluc3RhbmNlKHRoaXMuYWpheEFueXdoZXJlSWQpLnN1Ym1pdEFKQVgoJycsIHRoaXMpOw0KDQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KLyoqDQoqIE92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaWYgeW91IHVzZSBBamF4QW55d2hlcmUuc3Vic3RpdHV0ZUZvcm1TdWJtaXRGdW5jdGlvbigpIHRvDQoqIGR5bmFtaWNhbGx5IGluZm9ybSBBamF4QW55d2hlcmUgb2YgdGhlIG1ldGhvZCB5b3Ugd2FudCB0byB1c2UgZm9yIHRoZSBmb3JtIHN1Ym1pc3Npb24uDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5pc0Zvcm1TdWJtaXRCeUFqYXggPSBmdW5jdGlvbiAoKSB7DQogICAgcmV0dXJuIHRydWU7DQp9DQoNCi8qKg0KKiBTb21lIGJyb3dzZXJzIChub3RhYmx5IElFKSBkbyBub3QgbG9hZCBpbWFnZXMgZnJvbSB0aGllciBjYWNoZSB3aGVuIGNvbnRlbnQgaXMgdXBkYXRlZCB1c2luZw0KKiBpbm5lckhUTUwuIEFzIGEgcmVzdWx0LCBlYWNoIGltYWdlIGlzIHJlLXJlcXVlc3RlZCBmcm9tIHRoZSBzZXJ2ZXIgZXZlbiB0aG91Z2ggdGhlIGltYWdlIGV4aXN0cw0KKiBpbiB0aGUgY2FjaGUuIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIEFqYXhBbnl3aGVyZSBwcmVsb2FkcyBpbWFnZXMgcHJlc2VudCBpbiB0aGUgbmV3IGNvbnRlbnQNCiogYW5kIGludHJkdWNlcyBhIGJyaWVmIGRlbHkgKGRlZmF1bHQgb2YgMTAwIG1pbGxlc2Vjb25kcykgYmVmb3JlIGNhbGxpbmcgaW5uZXJIVE1MLg0KKiBTZWUgaHR0cDovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9kZWZhdWx0LmFzcHg/c2NpZD1rYjtlbi11czszMTk1NDYgZm9yIGZ1cnRoZXIgZGV0YWlscy4NCiogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhpcyBiZWhhdmlvdXIuDQoqIEBwYXJhbSAoYm9vbGVhbikgaXNEZWxheQ0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuc2V0RGVsYXlCZWZvcmVMb2FkID0gZnVuY3Rpb24gKGlzRGVsYXkpIHsNCiAgICB0aGlzLmRlbGF5QmVmb3JlQ29udGVudFVwZGF0ZSA9IGlzRGVsYXk7DQp9DQoNCi8qKg0KKiBSZXR1cm5zIHRoZSBjdXJyZW50IGRlbGF5IGJlaGF2aW9yLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuaXNEZWxheUJlZm9yZUxvYWQgPSBmdW5jdGlvbiAoKSB7DQogICAgcmV0dXJuIHRoaXMuZGVsYXlCZWZvcmVDb250ZW50VXBkYXRlOw0KfQ0KDQovKioNCiogU2V0cyB0aGUgZGVsYXkgcGVyaW9kIGluIG1pbGxpc2Vjb25kcy4gVGhlIGRlZmF1bHQgZGVsYXkgaXMgMTAwIG1pbGxpc2Vjb25kcy4NCiogQHBhcmFtIChpbnQpIGRlbGF5TWlsbGlzDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5zZXREZWxheVRpbWUgPSBmdW5jdGlvbiAoZGVsYXlNaWxsaXMpIHsNCiAgICB0aGlzLmRlbGF5SW5NaWxsaXMgPSBkZWxheU1pbGxpczsNCn0NCg0KLyoqDQoqIFJldHVybnMgdGhlIGRlbGF5IHBlcmlvZCBpbiBtaWxsaXNlY29uZHMuDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5nZXREZWxheVRpbWUgPSBmdW5jdGlvbiAoKSB7DQogICAgcmV0dXJuIHRoaXMuZGVsYXlJbk1pbGxpczsNCn0NCg0KLyoqDQoqICAgSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93cyBvbiB0aGUgc2VydmVyLXNpZGUgZHVyaW5nIEFKQVggcmVxdWVzdCwgaXQgd2lsbCBiZSBwcm9jZXNzZWQNCiogYnkgdGhpcyBmdW5jdGlvbi4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaXMgYWxlcnQoc3RhY2tUcmFjZSk7DQoqIE92ZXJyaWRlIGl0IGlmIHlvdSBuZWVkLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuaGFuZGxlRXhjZXB0aW9uID0gZnVuY3Rpb24odHlwZSwgZGV0YWlscykgew0KICAgIGFsZXJ0KGRldGFpbHMpOw0KfQ0KLyoqDQoqICAgSWYgYW4gSFRUUCBFcnJvciBjb2RlIHJldHVybmVkIGR1cmluZyBBSkFYIHJlcXVlc3QsIGl0IHdpbGwgYmUgcHJvY2Vzc2VkDQoqIGJ5IHRoaXMgZnVuY3Rpb24uIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGlzIGFsZXJ0KGNvZGUpOw0KKiBPdmVycmlkZSBpdCBpZiB5b3UgbmVlZC4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLmhhbmRsZUh0dHBFcnJvckNvZGUgPSBmdW5jdGlvbihjb2RlKSB7DQogICAgdmFyIGRldGFpbHMgPSBjb25maXJtKCJBamF4QW55d2hlcmUgZGVmYXVsdCBlcnJvciBoYW5kbGVyLiBYTUxIdHRwUmVxdWVzdCBIVFRQIEVycm9yIGNvZGU6IiArIGNvZGUgKyAiIFxuXG4gV291bGQgeW91IGxpa2UgdG8gdmlldyB0aGUgcmVzcG9uc2UgY29udGVudCBpbiBhIG5ldyB3aW5kb3c/Iik7DQogICAgaWYgKGRldGFpbHMpIHsNCiAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKCIiLCB0aGlzLmlkICsgIl9kZWJ1Z193aW5kb3ciKTsNCiAgICAgICAgaWYgKHdpbiAhPSBudWxsKSB7DQogICAgICAgICAgICB3aW4uZG9jdW1lbnQud3JpdGUoIjxodG1sPjxib2R5Pjx4bXA+IiArIHRoaXMucmVxLnJlc3BvbnNlVGV4dCk7DQogICAgICAgICAgICB3aW4uZG9jdW1lbnQuY2xvc2UoKTsNCiAgICAgICAgICAgIHdpbi5mb2N1cygpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQoZ2V0VGV4dGxhYmxlKCJlcnJvci5qcy5hamF4QW55V2hlcmUuZGlzYWJsZUJsb2NrZXIiKSk7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCi8qKg0KKiBPdmVycmlkZSBpdCBpZiB5b3UgbmVlZC4NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLmhhbmRsZVByZXZvdXNSZXF1ZXN0QWJvcnRlZCA9IGZ1bmN0aW9uKCkgew0KfQ0KDQoNCi8qKg0KKiAgIElmIHRoZSBIVE1MIHJlY2VpdmVkIGluIHJlc3BvbmNlIHRvIEFKQVggcmVxdWVzdCBjb250YWlucyBKYXZhU2NyaXB0IHRoYXQgZGVmaW5lcyBuZXcNCiogZnVuY3Rpb25zL3ZhcmlhYmxlcywgdGhleSBtdXN0IGJlIHByb3BhZ2F0ZWQgdG8gdGhlIHByb3BlciBjb250ZXh0LiBPdmVycmlkZSB0aGlzIG1ldGhvZA0KKiB0byByZXR1cm4gdGhlIEFycmF5IG9mIGZ1bmN0aW9uL3ZhcmlhYmxlIG5hbWVzLg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUuZ2V0R2xvYmFsU2NyaXB0c0RlY2xhcmF0aW9uc0xpc3QgPSBmdW5jdGlvbihzY3JpcHQpIHsNCiAgICByZXR1cm4gbnVsbDsNCn0NCg0KLyoqDQoqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIG92ZXJyaWRkZW4gYnkgQWpheEFueXdoZXJlIHVzZXIgdG8gaW1wbGVtZW50IGNsaWVudC1zaWRlDQoqIGRldGVybWluYXRpb24gb2Ygem9uZXMgdG8gcmVsb2FkLg0KKg0KKiBJZiB0aGUgZm9ybSBpcyBzdWJtaXRlZCB3aXRoICZsdDtpbnB1dCB0eXBlPXN1Ym1pdHxpbWFnZSZndDssIHN1Ym1pdEJ1dHRvbiBpcyBhIHJlZmVyZW5jZSB0byB0aGUgREhUTUwgb2JqZWN0LiBPdGhlcndpc2UgLSB1bmRlZmluZWQuDQoqDQoqIEBSZXR1cm5zIGEgY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2Ygem9uZXMgdG8gcmVsb2FkLCBvciAiZG9jdW1lbnQuYWxsIiB0byByZWxvYWQNCiogdGhlIHdob2xlIHBhZ2UuIFJldHVybnMgbnVsbCBpZiB0aGUgcmVxdWVzdCBtdXN0IGJlIHNlbnQgaW4gdHJhZGl0aW9uYWwgd2F5DQoqDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5nZXRab25lc1RvUmVsb2FkID0gZnVuY3Rpb24odXJsLCBzdWJtaXRCdXR0b24pIHsNCiAgICByZXR1cm4gdGhpcy5nZXRab25lc1RvUmVhbG9hZCgpOw0KICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb25seQ0KfQ0KLyoqDQoqIGRlcHJlY2V0ZWQgOiB3cm9uZCBzcGVsbGluZyA6IFJlYWxvYWQgd2lsbCBiZSByZW1vdmVkIGluIGxhdGVyIHZlcnNpb25zDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5nZXRab25lc1RvUmVhbG9hZCA9IGZ1bmN0aW9uKHVybCwgc3VibWl0QnV0dG9uKSB7DQogICAgcmV0dXJuICIiOw0KfQ0KDQovKioNCiogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW1wbGVtZW50IGEgY3VzdG9tIGFjdGlvbg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUub25SZXF1ZXN0U2VudCA9IGZ1bmN0aW9uICgpIHsNCn07DQovKioNCiogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW1wbGVtZW50IGEgY3VzdG9tIGFjdGlvbg0KKi8NCkFqYXhBbnl3aGVyZS5wcm90b3R5cGUub25CZWZvcmVSZXNwb25zZVByb2Nlc3NpbmcgPSBmdW5jdGlvbiAoKSB7DQp9Ow0KLyoqDQoqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGltcGxlbWVudCBhIGN1c3RvbSBhY3Rpb24NCiovDQpBamF4QW55d2hlcmUucHJvdG90eXBlLm9uQWZ0ZXJSZXNwb25zZVByb2Nlc3NpbmcgPSBmdW5jdGlvbiAoKSB7DQp9Ow0KDQovKioNCiogUHJvdmlkZXMgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZyb20gZ3JhY2VmdWwgZGVncmFkYXRpb24gZm9yIGdldEFKQVgoKQ0KKiBjYWxscyBsb2NhdGlvbi5ocmVmPXVybCBpZiBYTUxIdHRwUmVxdWVzdCBpcyB1bmF2YWlsYWJsZSwgcmVsb2FkaW5nIHRoZSBlbnRpcmUgcGFnZSAuDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5vbkdldEFqYXhOb3RTdXBwb3J0ZWQgPSBmdW5jdGlvbiAodXJsKSB7DQogICAgbG9jYXRpb24uaHJlZiA9IHVybDsNCiAgICByZXR1cm4gZmFsc2U7DQp9Ow0KDQovKioNCiogUHJvdmlkZXMgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZyb20gZ3JhY2VmdWwgZGVncmFkYXRpb24gZm9yIHN1Ym1pdEFKQVgoKQ0KKiBjYWxscyBmb3JtLnN1Ym1pdCgpIGlmIFhNTEh0dHBSZXF1ZXN0IGlzIHVuYXZhaWxhYmxlLCByZWxvYWRpbmcgdGhlIGVudGlyZSBwYWdlDQoqLw0KQWpheEFueXdoZXJlLnByb3RvdHlwZS5vblN1Ym1pdEFqYXhOb3RTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoYWRkaXRpb25hbFBvc3REYXRhLCBzdWJtaXRCdXR0b24pIHsNCiAgICB2YXIgZm9ybSA9IHRoaXMuZmluZEZvcm0oKTsNCg0KICAgIHZhciBhY3Rpb25BdHRyTm9kZSA9IGZvcm0uYXR0cmlidXRlc1siYWN0aW9uIl07DQogICAgdmFyIHVybCA9IGFjdGlvbkF0dHJOb2RlID09IG51bGw/bnVsbDphY3Rpb25BdHRyTm9kZS5ub2RlVmFsdWU7DQogICAgdmFyIHVybF9iYWNrdXAgPSB1cmw7DQogICAgaWYgKHR5cGVvZiBhZGRpdGlvbmFsUG9zdERhdGEgIT0gJ3VuZGVmaW5lZCcgJiYgYWRkaXRpb25hbFBvc3REYXRhICE9IG51bGwpIHsNCiAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZigiPyIpICE9IC0xKSA/ICImIiA6ICI/IjsNCiAgICAgICAgdXJsICs9IGFkZGl0aW9uYWxQb3N0RGF0YTsNCiAgICAgICAgZm9ybS5hdHRyaWJ1dGVzWyJhY3Rpb24iXS5ub2RlVmFsdWU9IHVybDsNCiAgICAgICAgLy8gb25seSBQT1NUIG1ldGhvZCBhbGxvd3Mgc2VuZGluZyBhZGRpdGlvbmFsDQogICAgICAgIC8vIGRhdGUgYnkgYWx0ZXJpbmcgZm9ybSBhY3Rpb24gVVJMLg0KICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgibWV0aG9kIiwgInBvc3QiKTsNCiAgICB9DQoNCiAgICB0aGlzLnN1Ym1pdE9sZChmb3JtLHN1Ym1pdEJ1dHRvbik7DQoNCiAgICBmb3JtLmF0dHJpYnV0ZXNbImFjdGlvbiJdLm5vZGVWYWx1ZT0gdXJsX2JhY2t1cDsNCiAgICByZXR1cm4gZmFsc2U7DQp9Ow0KLyoqDQoqIHN1Ym1pdCB0aGUgZm9ybSBpbiB0cmFkaWRpdGlvbmFsIHdheSA6DQoqIEBwcml2YXRlDQoqLw0KDQpBamF4QW55d2hlcmUucHJvdG90eXBlLnN1Ym1pdE9sZCA9IGZ1bmN0aW9uIChmb3JtLHN1Ym1pdEJ1dHRvbil7DQogICAgdmFyIHN1Ym1pdEhvbGRlciA9IG51bGw7DQogICAgaWYgKHN1Ym1pdEJ1dHRvbiE9bnVsbCAmJiB0eXBlb2Ygc3VibWl0QnV0dG9uIT0idW5kZWZpbmVkIil7DQogICAgICAgIHN1Ym1pdEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7DQogICAgICAgIHN1Ym1pdEhvbGRlci5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKTsNCiAgICAgICAgc3VibWl0SG9sZGVyLnNldEF0dHJpYnV0ZSgibmFtZSIsc3VibWl0QnV0dG9uLm5hbWUpOw0KICAgICAgICBzdWJtaXRIb2xkZXIuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsc3VibWl0QnV0dG9uLnZhbHVlKTsNCiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXRIb2xkZXIpOw0KDQogICAgfQ0KDQogICAgaWYgKHR5cGVvZiBmb3JtLnN1Ym1pdF9vbGQgPT0gInVuZGVmaW5lZCIpDQogICAgeyAgICAJDQogICAgCWZvcm0uc3VibWl0KCk7DQogICAgCXRyeXsNCgkJCW5ldyBVSS5Qcm9jZXNzQmFyKCkucmVuZGVyKCk7DQoJCX1jYXRjaChlKXt9DQogICAgfQ0KICAgIGVsc2UNCiAgICAgICAgZm9ybS5zdWJtaXRfb2xkKCk7DQoNCiAgICBpZiAoc3VibWl0QnV0dG9uIT1udWxsICl7DQogICAgICAgIGZvcm0ucmVtb3ZlQ2hpbGQoc3VibWl0SG9sZGVyKTsNCiAgICB9DQp9DQoNCi8vIGRlZmF1bHQgaW5zdGFuY2UuDQphamF4QW55d2hlcmUgPSBuZXcgQWpheEFueXdoZXJlKCk7DQphamF4QW55d2hlcmUuYmluZEJ5SWQoKTsNCg==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>