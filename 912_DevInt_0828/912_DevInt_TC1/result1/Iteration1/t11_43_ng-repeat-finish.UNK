/**
 * Created by austin.wang on 12/31/2014.
 * Modified by dbalmer@accela.com
 */
(function () {
  'use strict';
  angular
    .module('accela.core')
    .directive('onFinishNgRepeat', function ($timeout) {
      return {
        restrict: 'A',
        link: function (scope, element, attrs) {
          if (scope.$last === true) {
            $timeout(function() {
              scope.$emit('ngRepeatFinished', $id(attrs.onFinishNgRepeat));
            });
          }
        }
      };
    });
})();
